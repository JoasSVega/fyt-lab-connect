import{jsx as e,jsxs as a,Fragment as t}from"react/jsx-runtime";import{useState as i,useRef as n,useEffect as c,useCallback as r,useMemo as l}from"react";import{Link as o,useParams as s,Navigate as d}from"react-router-dom";import{h as m,u as p,j as g,k as h,S as u,B as y,F as f}from"./main.ssg-CpcOBdTf.js";import{Tag as x,X as w,ChevronLeft as b,ChevronRight as _,Building2 as N,Users as v,Link as k,Share2 as F,Linkedin as C,MessageCircle as E,Copy as I}from"lucide-react";import{AnimatePresence as T,motion as D}from"framer-motion";import{createPortal as S}from"react-dom";import"react-dom/server";import"react-router-dom/server.mjs";import"@tanstack/react-query";import"@radix-ui/react-toast";import"class-variance-authority";import"clsx";import"tailwind-merge";import"next-themes";import"sonner";import"@radix-ui/react-tooltip";import"@radix-ui/react-slot";const G=({noticia:t})=>{const i=(e=>{const[a,t,i]=e.split("-").map(Number);return new Date(a,(t||1)-1,i||1)})(t.date).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"});return e("header",{className:"w-full bg-white noticia-page__header",children:a("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-12 py-8 sm:py-12 lg:py-16",children:[e("nav",{className:"noticia-page__breadcrumb","aria-label":"Breadcrumb",children:a("ol",{children:[e("li",{children:e(o,{to:"/",children:"Inicio"})}),e("li",{"aria-hidden":"true",children:"/"}),e("li",{children:e(o,{to:"/noticias",children:"Noticias"})}),e("li",{"aria-hidden":"true",children:"/"}),e("li",{className:"noticia-page__breadcrumb-current",children:t.category})]})}),a("div",{className:"noticia-page__meta",children:[a("div",{className:"noticia-page__category",children:[e(x,{className:"w-4 h-4"}),t.category]}),e("time",{dateTime:t.date,className:"noticia-page__date",children:i})]}),e("h1",{className:"noticia-page__title",children:t.title}),t.subtitle&&e("p",{className:"noticia-page__subtitle",children:t.subtitle})]})})},$=({images:l,initialIndex:o,isOpen:s,onClose:d})=>{const[m,p]=i(o),g=n(0),h=n(0),u=n(!1);c(()=>{p(o)},[o]);const y=r(()=>{p(e=>(e+1)%l.length)},[l.length]),f=r(()=>{p(e=>(e-1+l.length)%l.length)},[l.length]);c(()=>{if(!s)return;const e=e=>{"Escape"===e.key?d():"ArrowRight"===e.key?y():"ArrowLeft"===e.key&&f()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s,d,y,f]),c(()=>(s&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow="unset"}),[s]);const x=l[m],N=e(T,{mode:"wait",children:s&&a(t,{children:[e(D.div,{className:"noticia-gallery__backdrop",variants:{hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}},initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},onClick:d,"aria-hidden":"true"}),a(D.div,{className:"noticia-gallery__modal",variants:{hidden:{opacity:0,scale:.96},visible:{opacity:1,scale:1},exit:{opacity:0,scale:.96}},initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.4,ease:[.4,0,.2,1]},onClick:e=>e.stopPropagation(),onTouchStart:e=>{g.current=e.touches[0].clientX,u.current=!0},onTouchEnd:e=>{h.current=e.changedTouches[0].clientX,u.current=!1;const a=g.current-h.current;Math.abs(a)>50&&(a>0?y():f())},children:[e("button",{className:"noticia-gallery__close",onClick:d,"aria-label":"Cerrar galer铆a",type:"button",children:e(w,{className:"w-6 h-6"})}),e("div",{className:"noticia-gallery__image-container",children:a("picture",{children:[e("source",{srcSet:x.webp,type:"image/webp"}),x.png&&e("source",{srcSet:x.png,type:"image/png"}),e("img",{src:x.webp,alt:x.alt,className:"noticia-gallery__image",draggable:!1})]})}),e("button",{className:"noticia-gallery__nav-btn noticia-gallery__nav-prev",onClick:f,"aria-label":"Imagen anterior",type:"button",children:e(b,{className:"w-6 h-6"})}),e("button",{className:"noticia-gallery__nav-btn noticia-gallery__nav-next",onClick:y,"aria-label":"Imagen siguiente",type:"button",children:e(_,{className:"w-6 h-6"})}),a("div",{className:"noticia-gallery__counter",children:[m+1," / ",l.length]}),e("div",{className:"noticia-gallery__swipe-hint",children:"Desliza para cambiar imagen"})]})]})});return S(N,document.body)},A=({slug:n,images:c})=>{const[r,l]=i(!1),[o,s]=i(0);if(!c||0===c.length)return null;const d=e=>{s(e),l(!0)};return a(t,{children:[e("div",{className:"w-full bg-gray-50 noticia-page__images-section",children:e("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-12 py-12 sm:py-16",children:e("div",{className:"noticia-page__images-gallery",children:c.map((t,i)=>e("figure",{className:"noticia-page__image-item",role:"button",tabIndex:0,onClick:()=>d(i),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||d(i)},"aria-label":`Ver imagen ${i+1} de ${c.length} en pantalla completa: ${t.alt}`,children:a("picture",{children:[e("source",{srcSet:t.webp,type:"image/webp"}),t.png&&e("source",{srcSet:t.png,type:"image/png"}),e("img",{src:t.webp,alt:t.alt,className:"noticia-page__image",loading:"lazy"})]})},i))})})}),e($,{images:c,initialIndex:o,isOpen:r,onClose:()=>l(!1)})]})},L=({noticia:t})=>e("footer",{className:"w-full noticia-page__closing mt-16 pt-12 pb-12",children:a("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-12 space-y-8",children:[t.principalInstitutions&&t.principalInstitutions.length>0&&a("section",{children:[a("h3",{className:"flex items-center gap-2 text-lg font-bold mb-4 font-raleway",children:[e(N,{className:"w-5 h-5 noticia-page__closing-icon"}),"Instituciones Involucradas"]}),e("ul",{className:"space-y-2",children:t.principalInstitutions.map((t,i)=>a("li",{className:"flex items-start gap-3 font-inter text-gray-700",children:[e("span",{className:"w-2 h-2 rounded-full mt-2 flex-shrink-0 noticia-page__closing-dot"}),e("span",{children:t})]},i))})]}),t.researchGroups&&t.researchGroups.length>0&&a("section",{children:[a("h3",{className:"flex items-center gap-2 text-lg font-bold mb-4 font-raleway",children:[e(v,{className:"w-5 h-5 noticia-page__closing-icon"}),"Grupos de Investigaci贸n"]}),e("ul",{className:"space-y-2",children:t.researchGroups.map((t,i)=>a("li",{className:"flex items-start gap-3 font-inter text-gray-700",children:[e("span",{className:"w-2 h-2 rounded-full mt-2 flex-shrink-0 noticia-page__closing-dot"}),e("span",{children:t})]},i))})]}),t.relatedLinks&&t.relatedLinks.length>0&&a("section",{children:[a("h3",{className:"flex items-center gap-2 text-lg font-bold mb-4 font-raleway",children:[e(k,{className:"w-5 h-5 noticia-page__closing-icon"}),"Enlaces Relacionados"]}),e("div",{className:"flex flex-col sm:flex-row gap-3 flex-wrap",children:t.relatedLinks.map((t,i)=>a("a",{href:t.url,className:"inline-flex items-center gap-2 px-4 py-2 border rounded-lg transition-all duration-250 text-sm font-inter font-medium hover:translate-y-[-2px] noticia-page__closing-link",children:[t.title,e(k,{className:"w-4 h-4"})]},i))})]}),e("div",{className:"noticia-page__closing-divider pt-8"})]})}),j=()=>{const{slug:t}=s(),{toast:i}=m();p();const n=l(()=>g(t||""),[t]);if(!n)return e(d,{to:"/noticias",replace:!0});const c=h(),r=c.findIndex(e=>e.slug===n.slug);r>0&&c[r-1],r<c.length-1&&c[r+1];const o=new Date(n.date).toISOString(),x=new Date(n.date).toISOString(),w="https://fyt-research.org/images/noticias/2026/2026-01-21-fyt-fortalece-colaboracion-internacional-guadalajara/03-og.webp",b=(e=>{const a={"Colaboraci贸n":{"--accent-primary":"#1565C0","--accent-secondary":"#E3F2FD","--accent-light":"#BBDEFB"},Evento:{"--accent-primary":"#00897B","--accent-secondary":"#E0F2F1","--accent-light":"#B2DFDB"},"Publicaci贸n":{"--accent-primary":"#673AB7","--accent-secondary":"#EDE7F6","--accent-light":"#CE93D8"},Lanzamiento:{"--accent-primary":"#F57C00","--accent-secondary":"#FFF3E0","--accent-light":"#FFB74D"},"Participaci贸n":{"--accent-primary":"#388E3C","--accent-secondary":"#E8F5E9","--accent-light":"#81C784"},Reconocimiento:{"--accent-primary":"#F9A825","--accent-secondary":"#FFF8E1","--accent-light":"#FFD54F"},Comunicado:{"--accent-primary":"#455A64","--accent-secondary":"#ECEFF1","--accent-light":"#90A4AE"}};return a[e]||a.Comunicado})(n.category);return a("div",{className:"w-full bg-background flex flex-col noticia-page",style:b,children:[a(u,{title:`${n.title} | Noticias FyT`,description:n.summary,keywords:["Noticias FyT","Grupo FyT","Universidad de Cartagena","Universidad de Guadalajara","colaboraci贸n internacional","investigaci贸n biom茅dica","farmacolog铆a","inmunoinform谩tica","investigaci贸n computacional"],author:"Grupo FyT",robots:"index, follow",canonical:`https://fyt-research.org/noticias/${n.slug}`,openGraph:{title:`${n.title} | Grupo FyT`,description:n.summary,type:"article",url:`https://fyt-research.org/noticias/${n.slug}`,siteName:"Grupo FyT",locale:"es_ES",image:w,imageAlt:"Grupo FyT fortalece colaboraci贸n internacional con la Universidad de Guadalajara",imageWidth:"1200",imageHeight:"630"},twitter:{card:"summary_large_image",site:"@fytlab",image:w},schema:{"@context":"https://schema.org","@type":"NewsArticle",headline:n.title,description:n.summary,image:[w],datePublished:o,dateModified:x,author:{"@type":"Organization",name:"Grupo de Investigaci贸n en Farmacolog铆a y Terap茅utica (FyT)",url:"https://fyt-research.org"},publisher:{"@type":"Organization",name:"Universidad de Cartagena",url:"https://fyt-research.org"},mainEntityOfPage:{"@type":"WebPage","@id":`https://fyt-research.org/noticias/${n.slug}`}},children:[e("meta",{property:"og:image:secure_url",content:w}),e("meta",{property:"og:image:type",content:"image/webp"}),e("meta",{property:"article:published_time",content:o}),e("meta",{property:"article:modified_time",content:x}),e("meta",{property:"article:section",content:n.category}),e("meta",{property:"article:tag",content:"Noticias FyT"})]}),e(G,{noticia:n}),e(A,{slug:n.slug,images:n.images}),e("article",{className:"w-full bg-white noticia-page__content",children:e("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-12 py-12 sm:py-16 lg:py-20",children:e("div",{dangerouslySetInnerHTML:{__html:n.content}})})}),e(L,{noticia:n}),e("section",{className:"border-t-2 border-gray-200 bg-white",children:e("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-12 py-12 sm:py-14",children:a("div",{className:"flex flex-col items-start gap-6",children:[a("div",{children:[a("h3",{className:"font-poppins font-bold text-lg sm:text-xl text-gray-900 mb-2 flex items-center gap-2 flex-wrap",children:[e(F,{className:"w-5 h-5 text-primary flex-shrink-0"}),e("span",{className:"break-words",children:"Compartir esta noticia"})]}),e("p",{className:"text-gray-600 text-sm break-words",children:"Ay煤danos a difundir esta noticia institucional en tu red"})]}),a("div",{className:"flex flex-col sm:flex-row gap-3 w-full",children:[a(y,{onClick:()=>{const e=encodeURIComponent(window.location.href);encodeURIComponent(n.title),window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${e}`,"_blank","width=600,height=600")},className:"gap-2 cta-button cta-linkedin w-full sm:w-auto justify-center",variant:"outline",size:"lg",children:[e(C,{className:"w-5 h-5 flex-shrink-0"}),e("span",{children:"LinkedIn"})]}),a(y,{onClick:()=>{const e=` ${n.title}\n\n${n.summary}\n\n ${window.location.href}`,a=encodeURIComponent(e);window.open(`https://wa.me/?text=${a}`,"_blank")},className:"gap-2 cta-button cta-whatsapp w-full sm:w-auto justify-center",variant:"outline",size:"lg",children:[e(E,{className:"w-5 h-5 flex-shrink-0"}),e("span",{children:"WhatsApp"})]}),a(y,{onClick:async()=>{const e=window.location.href;try{if(navigator.clipboard&&"function"==typeof navigator.clipboard.writeText)await navigator.clipboard.writeText(e);else{const a=document.createElement("textarea");a.value=e,a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.opacity="0",document.body.appendChild(a),a.focus(),a.select();try{document.execCommand("copy")}finally{document.body.removeChild(a)}}i({title:"Enlace copiado",description:"El enlace ha sido copiado al portapapeles"})}catch(a){i({title:"Error",description:"No se pudo copiar el enlace",variant:"destructive"})}},className:"gap-2 cta-button cta-copy w-full sm:w-auto justify-center",variant:"outline",size:"lg",children:[e(I,{className:"w-5 h-5 flex-shrink-0"}),e("span",{className:"whitespace-nowrap",children:"Copiar enlace"})]})]})]})})}),e(f,{})]})};export{j as default};
