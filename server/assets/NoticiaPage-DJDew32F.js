import{jsx as e,jsxs as a,Fragment as i}from"react/jsx-runtime";import{useState as t,useRef as n,useEffect as r,useCallback as c,useMemo as l}from"react";import{Link as o,useParams as s,Navigate as m}from"react-router-dom";import{g as d,a as p}from"./noticias-DnMBM5vf.js";import{Tag as g,X as h,ChevronLeft as u,ChevronRight as y,Building2 as _,Users as f,Link as x}from"lucide-react";import{AnimatePresence as b,motion as N}from"framer-motion";import{createPortal as w}from"react-dom";import{B as v,u as F,S as k,F as E}from"./main.ssg-GYIQFDMC.js";import"react-dom/server";import"react-router-dom/server.mjs";import"@tanstack/react-query";import"@radix-ui/react-toast";import"class-variance-authority";import"clsx";import"tailwind-merge";import"next-themes";import"sonner";import"@radix-ui/react-tooltip";import"@radix-ui/react-slot";const C=({noticia:i})=>{const t=(e=>{const[a,i,t]=e.split("-").map(Number);return new Date(a,(i||1)-1,t||1)})(i.date).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"});return e("header",{className:"w-full bg-white noticia-page__header",children:a("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-12 py-8 sm:py-12 lg:py-16",children:[e("nav",{className:"noticia-page__breadcrumb","aria-label":"Breadcrumb",children:a("ol",{children:[e("li",{children:e(o,{to:"/",children:"Inicio"})}),e("li",{"aria-hidden":"true",children:"/"}),e("li",{children:e(o,{to:"/noticias",children:"Noticias"})}),e("li",{"aria-hidden":"true",children:"/"}),e("li",{className:"noticia-page__breadcrumb-current",children:i.category})]})}),a("div",{className:"noticia-page__meta",children:[a("div",{className:"noticia-page__category",children:[e(g,{className:"w-4 h-4"}),i.category]}),e("time",{dateTime:i.date,className:"noticia-page__date",children:t})]}),e("h1",{className:"noticia-page__title",children:i.title}),i.subtitle&&e("p",{className:"noticia-page__subtitle",children:i.subtitle})]})})},I=({images:l,initialIndex:o,isOpen:s,onClose:m})=>{const[d,p]=t(o),g=n(0),_=n(0),f=n(!1);r(()=>{p(o)},[o]);const x=c(()=>{p(e=>(e+1)%l.length)},[l.length]),v=c(()=>{p(e=>(e-1+l.length)%l.length)},[l.length]);r(()=>{if(!s)return;const e=e=>{"Escape"===e.key?m():"ArrowRight"===e.key?x():"ArrowLeft"===e.key&&v()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s,m,x,v]),r(()=>(s&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow="unset"}),[s]);const F=l[d],k=e(b,{mode:"wait",children:s&&a(i,{children:[e(N.div,{className:"noticia-gallery__backdrop",variants:{hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}},initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},onClick:m,"aria-hidden":"true"}),a(N.div,{className:"noticia-gallery__modal",variants:{hidden:{opacity:0,scale:.96},visible:{opacity:1,scale:1},exit:{opacity:0,scale:.96}},initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.4,ease:[.4,0,.2,1]},onClick:e=>e.stopPropagation(),onTouchStart:e=>{g.current=e.touches[0].clientX,f.current=!0},onTouchEnd:e=>{_.current=e.changedTouches[0].clientX,f.current=!1;const a=g.current-_.current;Math.abs(a)>50&&(a>0?x():v())},children:[e("button",{className:"noticia-gallery__close",onClick:m,"aria-label":"Cerrar galería",type:"button",children:e(h,{className:"w-6 h-6"})}),e("div",{className:"noticia-gallery__image-container",children:a("picture",{children:[e("source",{srcSet:F.webp,type:"image/webp"}),F.png&&e("source",{srcSet:F.png,type:"image/png"}),e("img",{src:F.webp,alt:F.alt,className:"noticia-gallery__image",draggable:!1})]})}),e("button",{className:"noticia-gallery__nav-btn noticia-gallery__nav-prev",onClick:v,"aria-label":"Imagen anterior",type:"button",children:e(u,{className:"w-6 h-6"})}),e("button",{className:"noticia-gallery__nav-btn noticia-gallery__nav-next",onClick:x,"aria-label":"Imagen siguiente",type:"button",children:e(y,{className:"w-6 h-6"})}),a("div",{className:"noticia-gallery__counter",children:[d+1," / ",l.length]}),e("div",{className:"noticia-gallery__swipe-hint",children:"Desliza para cambiar imagen"})]})]})});return w(k,document.body)},T=({slug:n,images:r})=>{const[c,l]=t(!1),[o,s]=t(0);if(!r||0===r.length)return null;const m=e=>{s(e),l(!0)};return a(i,{children:[e("div",{className:"w-full bg-gray-50 noticia-page__images-section",children:e("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-12 py-12 sm:py-16",children:e("div",{className:"noticia-page__images-gallery",children:r.map((i,t)=>e("figure",{className:"noticia-page__image-item",role:"button",tabIndex:0,onClick:()=>m(t),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||m(t)},children:a("picture",{children:[e("source",{srcSet:i.webp,type:"image/webp"}),i.png&&e("source",{srcSet:i.png,type:"image/png"}),e("img",{src:i.webp,alt:i.alt,className:"noticia-page__image",loading:"lazy"})]})},t))})})}),e(I,{images:r,initialIndex:o,isOpen:c,onClose:()=>l(!1)})]})},D=({noticia:i})=>e("footer",{className:"w-full noticia-page__closing mt-16 pt-12 pb-12",children:a("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-12 space-y-8",children:[i.principalInstitutions&&i.principalInstitutions.length>0&&a("section",{children:[a("h3",{className:"flex items-center gap-2 text-lg font-bold mb-4 font-raleway",children:[e(_,{className:"w-5 h-5 noticia-page__closing-icon"}),"Instituciones Involucradas"]}),e("ul",{className:"space-y-2",children:i.principalInstitutions.map((i,t)=>a("li",{className:"flex items-start gap-3 font-inter text-gray-700",children:[e("span",{className:"w-2 h-2 rounded-full mt-2 flex-shrink-0 noticia-page__closing-dot"}),e("span",{children:i})]},t))})]}),i.researchGroups&&i.researchGroups.length>0&&a("section",{children:[a("h3",{className:"flex items-center gap-2 text-lg font-bold mb-4 font-raleway",children:[e(f,{className:"w-5 h-5 noticia-page__closing-icon"}),"Grupos de Investigación"]}),e("ul",{className:"space-y-2",children:i.researchGroups.map((i,t)=>a("li",{className:"flex items-start gap-3 font-inter text-gray-700",children:[e("span",{className:"w-2 h-2 rounded-full mt-2 flex-shrink-0 noticia-page__closing-dot"}),e("span",{children:i})]},t))})]}),i.relatedLinks&&i.relatedLinks.length>0&&a("section",{children:[a("h3",{className:"flex items-center gap-2 text-lg font-bold mb-4 font-raleway",children:[e(x,{className:"w-5 h-5 noticia-page__closing-icon"}),"Enlaces Relacionados"]}),e("div",{className:"flex flex-col sm:flex-row gap-3 flex-wrap",children:i.relatedLinks.map((i,t)=>a("a",{href:i.url,className:"inline-flex items-center gap-2 px-4 py-2 border rounded-lg transition-all duration-250 text-sm font-inter font-medium hover:translate-y-[-2px] noticia-page__closing-link",children:[i.title,e(x,{className:"w-4 h-4"})]},t))})]}),a("div",{className:"noticia-page__closing-divider pt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e("p",{className:"text-sm text-gray-600 font-inter",children:"Volver al registro de noticias institucionales"}),e("a",{href:"/noticias",className:"inline-block",children:e(v,{className:"transition-all duration-250 hover:translate-y-[-2px] noticia-page__closing-button",children:"← Ver todas las noticias"})})]})]})}),S=()=>{const{slug:i}=s();F();const t=l(()=>d(i||""),[i]);if(!t)return e(m,{to:"/noticias",replace:!0});const n=p(),r=n.findIndex(e=>e.slug===t.slug);r>0&&n[r-1],r<n.length-1&&n[r+1];const c=new Date(t.date).toISOString(),o=new Date(t.date).toISOString(),g="https://fyt-research.org/images/noticias/2026/2026-01-21-fyt-fortalece-colaboracion-internacional-guadalajara/03-og.webp",h=(e=>{const a={"Colaboración":{"--accent-primary":"#1565C0","--accent-secondary":"#E3F2FD","--accent-light":"#BBDEFB"},Evento:{"--accent-primary":"#00897B","--accent-secondary":"#E0F2F1","--accent-light":"#B2DFDB"},"Publicación":{"--accent-primary":"#673AB7","--accent-secondary":"#EDE7F6","--accent-light":"#CE93D8"},Lanzamiento:{"--accent-primary":"#F57C00","--accent-secondary":"#FFF3E0","--accent-light":"#FFB74D"},"Participación":{"--accent-primary":"#388E3C","--accent-secondary":"#E8F5E9","--accent-light":"#81C784"},Reconocimiento:{"--accent-primary":"#F9A825","--accent-secondary":"#FFF8E1","--accent-light":"#FFD54F"},Comunicado:{"--accent-primary":"#455A64","--accent-secondary":"#ECEFF1","--accent-light":"#90A4AE"}};return a[e]||a.Comunicado})(t.category);return a("div",{className:"w-full bg-background flex flex-col noticia-page",style:h,children:[a(k,{title:`${t.title} | Noticias FyT`,description:t.summary,keywords:["Noticias FyT","Grupo FyT","Universidad de Cartagena","Universidad de Guadalajara","colaboración internacional","investigación biomédica","farmacología","inmunoinformática","investigación computacional"],author:"Grupo FyT",robots:"index, follow",canonical:`https://fyt-research.org/noticias/${t.slug}`,openGraph:{title:`${t.title} | Grupo FyT`,description:t.summary,type:"article",url:`https://fyt-research.org/noticias/${t.slug}`,siteName:"Grupo FyT",locale:"es_ES",image:g,imageAlt:"Grupo FyT fortalece colaboración internacional con la Universidad de Guadalajara",imageWidth:"1200",imageHeight:"630"},twitter:{card:"summary_large_image",site:"@fytlab",image:g},schema:{"@context":"https://schema.org","@type":"NewsArticle",headline:t.title,description:t.summary,image:[g],datePublished:c,dateModified:o,author:{"@type":"Organization",name:"Grupo de Investigación en Farmacología y Terapéutica (FyT)",url:"https://fyt-research.org"},publisher:{"@type":"Organization",name:"Universidad de Cartagena",url:"https://fyt-research.org"},mainEntityOfPage:{"@type":"WebPage","@id":`https://fyt-research.org/noticias/${t.slug}`}},children:[e("meta",{property:"og:image:secure_url",content:g}),e("meta",{property:"og:image:type",content:"image/webp"}),e("meta",{property:"article:published_time",content:c}),e("meta",{property:"article:modified_time",content:o}),e("meta",{property:"article:section",content:t.category}),e("meta",{property:"article:tag",content:"Noticias FyT"})]}),e(C,{noticia:t}),e(T,{slug:t.slug,images:t.images}),e("article",{className:"w-full bg-white noticia-page__content",children:e("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-12 py-12 sm:py-16 lg:py-20",children:e("div",{dangerouslySetInnerHTML:{__html:t.content}})})}),e(D,{noticia:t}),e(E,{})]})};export{S as default};
