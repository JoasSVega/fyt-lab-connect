import{jsx as e,jsxs as a}from"react/jsx-runtime";import*as t from"react";import r from"react";import{k as l,B as s,z as i,C as o}from"./main.ssg-GYIQFDMC.js";import n from"embla-carousel-react";import{ArrowLeft as c,ArrowRight as d}from"lucide-react";import"react-dom/server";import"react-router-dom/server.mjs";import"@tanstack/react-query";import"@radix-ui/react-toast";import"class-variance-authority";import"clsx";import"tailwind-merge";import"next-themes";import"sonner";import"@radix-ui/react-tooltip";import"react-router-dom";import"@radix-ui/react-slot";import"framer-motion";const m=t.createContext(null);function u(){const e=t.useContext(m);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const p=t.forwardRef(({orientation:a="horizontal",opts:r,setApi:s,plugins:i,className:o,children:c,...d},u)=>{const[p,f]=n({...r,axis:"horizontal"===a?"x":"y"},i),[h,w]=t.useState(!1),[x,g]=t.useState(!1),v=t.useCallback(e=>{e&&(w(e.canScrollPrev()),g(e.canScrollNext()))},[]),y=t.useCallback(()=>{f?.scrollPrev()},[f]),N=t.useCallback(()=>{f?.scrollNext()},[f]),b=t.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),y()):"ArrowRight"===e.key&&(e.preventDefault(),N())},[y,N]);return t.useEffect(()=>{f&&s&&s(f)},[f,s]),t.useEffect(()=>{if(f)return v(f),f.on("reInit",v),f.on("select",v),()=>{f?.off("select",v)}},[f,v]),e(m.Provider,{value:{carouselRef:p,api:f,opts:r,orientation:a||("y"===r?.axis?"vertical":"horizontal"),scrollPrev:y,scrollNext:N,canScrollPrev:h,canScrollNext:x},children:e("div",{ref:u,onKeyDownCapture:b,className:l("relative",o),role:"region","aria-roledescription":"carousel",...d,children:c})})});p.displayName="Carousel";const f=t.forwardRef(({className:a,...t},r)=>{const{carouselRef:s,orientation:i}=u();return e("div",{ref:s,className:"overflow-hidden py-3 px-2 md:px-4",children:e("div",{ref:r,className:l("flex","horizontal"===i?"":"flex-col",a),...t})})});f.displayName="CarouselContent";const h=t.forwardRef(({className:a,...t},r)=>{const{orientation:s}=u();return e("div",{ref:r,role:"group","aria-roledescription":"slide",className:l("min-w-0 shrink-0 grow-0 basis-full","horizontal"===s?"":"pt-4",a),...t})});h.displayName="CarouselItem";const w=t.forwardRef(({className:t,variant:r="outline",size:i="icon",...o},n)=>{const{orientation:d,scrollPrev:m,canScrollPrev:p,opts:f}=u();return a(s,{ref:n,variant:r,size:i,className:l("absolute h-8 w-8 rounded-full","horizontal"===d?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!p&&!f?.loop,onClick:m,...o,children:[e(c,{className:"h-4 w-4"}),e("span",{className:"sr-only",children:"Previous slide"})]})});w.displayName="CarouselPrevious";const x=t.forwardRef(({className:t,variant:r="outline",size:i="icon",...o},n)=>{const{orientation:c,scrollNext:m,canScrollNext:p,opts:f}=u();return a(s,{ref:n,variant:r,size:i,className:l("absolute h-8 w-8 rounded-full","horizontal"===c?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!p&&!f?.loop,onClick:m,...o,children:[e(d,{className:"h-4 w-4"}),e("span",{className:"sr-only",children:"Next slide"})]})});x.displayName="CarouselNext";const g={hero:"100vw",card:"(max-width: 640px) 400px, (max-width: 1024px) 600px, 400px",avatar:"100px",team:"(max-width: 640px) 180px, 220px",thumbnail:"(max-width: 640px) 150px, 200px"},v=({basePath:a,usage:t,alt:r,fallbackSize:l="small",width:s,height:i,decoding:o="async",priority:n=!1,className:c,style:d,...m})=>{const u=a.replace(/(?:-(small|medium|large))?\.webp$/i,"");return e("img",{src:`${u}-small.webp`,srcSet:`${u}-small.webp 500w, ${u}-medium.webp 800w`,sizes:g[t],alt:r,loading:n?"eager":"lazy",decoding:o,fetchPriority:n?"high":"auto",width:s,height:i,className:c,style:d,...m})},y=({items:t,color:l="#9B59B6",height:s="",imageAspect:n="4 / 3",showDescription:c=!0,className:d,imageClassName:m})=>{const[u,g]=r.useState(null),[y,N]=r.useState(0),[b,S]=r.useState(!1),C=r.useRef(new Set([0,1,2])),k="undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(max-width: 640px)").matches,z=k?"-small.webp":"-medium.webp",E=t.slice(0,3).map(e=>`${(e.image||"").replace(/-(small|medium|large)\.webp$/i,"")}${z}`),{loaded:P}=i(E,{priority:"high",timeout:8e3});r.useEffect(()=>{if(!u||!P)return;const e=()=>{const e=u.selectedScrollSnap(),a=t.length,r=new Set;for(let t=-2;t<=2;t++){const l=(e+t+a)%a;r.add(l)}r.forEach(e=>{if(!C.current.has(e)){C.current.add(e);const a=t[e];if(a){const e=a.image.replace(/-medium\.webp$/i,""),t=["-small.webp"];!k&&("undefined"!=typeof window&&window.devicePixelRatio>1||"undefined"!=typeof window&&window.innerWidth>=768)&&t.push("-medium.webp"),t.forEach(a=>{(new Image).src=`${e}${a}`})}}})};return e(),u.on("select",e),()=>{u.off("select",e)}},[u,t,P,k]),r.useEffect(()=>{if(!u)return;const e=()=>N(u.selectedScrollSnap());return e(),u.on("select",e),u.on("reInit",e),()=>{u.off("select",e),u.off("reInit",e)}},[u]),r.useEffect(()=>{if(u)try{u.reInit()}catch(e){}},[u,t.length]),r.useEffect(()=>{if(!u)return;if("undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const e=setInterval(()=>{if(!(b||"undefined"!=typeof document&&document.hidden))try{u.canScrollNext()&&u.scrollNext()}catch{}},4e3);return()=>clearInterval(e)},[u,b]);const $=s?"number"==typeof s?`${s}px`:s:"",R=m||"w-full h-full object-cover";return r.useEffect(()=>{if(!u)return;let e=null;const a=()=>{e&&window.clearTimeout(e),e=window.setTimeout(()=>{try{u.reInit()}catch(e){}},150)};return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),e&&window.clearTimeout(e)}},[u]),P?a("div",{onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),className:d||"w-full max-w-[1800px] mx-auto px-4 md:px-8",children:[a(p,{opts:{align:"center",loop:!0,containScroll:"keepSnaps",slidesToScroll:1},setApi:g,className:"w-full",children:[e(f,{className:"gap-x-4",children:t.map((t,r)=>e(h,{className:"px-2 md:px-4 basis-[66%] sm:basis-[66%] md:basis-[50%] lg:basis-[33.333%] xl:basis-[25%] 2xl:basis-[20%] min-w-[280px] md:min-w-[320px] max-w-[520px]",children:a(o,{style:{borderColor:l},className:"bg-white/90 border-2 shadow-soft md:hover:shadow-medium md:hover:scale-[1.02] transition-all duration-300 overflow-hidden group h-full will-change-transform",children:[e("div",{className:"relative bg-gray-100",style:$?{height:$}:{aspectRatio:n},children:e(v,{basePath:t.image,alt:t.title,usage:"card",priority:r<2,fallbackSize:"small",decoding:"async",className:R,style:$?{height:"100%",maxHeight:$,minHeight:$}:{height:"100%"},width:1200,height:900})}),a("div",{className:"p-6",children:[e("h4",{className:"text-[clamp(1rem,1.4vw,1.125rem)] md:text-[clamp(1.05rem,1.2vw,1.25rem)] font-raleway font-semibold mb-3 leading-snug break-normal whitespace-normal",style:{color:l,hyphens:"none",overflowWrap:"normal",wordBreak:"normal"},children:t.title}),c&&t.description&&e("p",{className:"text-[clamp(0.92rem,1.2vw,1rem)] font-inter text-gray-700 leading-relaxed text-left break-normal whitespace-normal",style:{hyphens:"none",overflowWrap:"normal",wordBreak:"normal"},children:t.description})]})]})},r))}),e(w,{className:"hidden md:flex -left-10 lg:-left-12"}),e(x,{className:"hidden md:flex -right-10 lg:-right-12"})]}),e("div",{className:"flex items-center justify-center mt-4 space-x-2",children:t.map((a,t)=>e("button",{onClick:()=>u&&u.scrollTo(t),"aria-label":`Go to slide ${t+1}`,"aria-current":y===t,className:"h-2 w-6 md:w-8 rounded-full transition-all "+(y===t?"scale-110":"bg-gray-300"),style:{backgroundColor:y===t?l:void 0}},t))})]}):e("div",{className:d||"w-full max-w-[1800px] mx-auto px-4 md:px-8",children:e("div",{className:"w-full flex items-center justify-center",style:{minHeight:$||"18rem"},children:e("div",{className:"animate-pulse flex space-x-4",children:a("div",{className:"flex-1 space-y-4 py-1",children:[e("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),a("div",{className:"space-y-2",children:[e("div",{className:"h-4 bg-gray-300 rounded"}),e("div",{className:"h-4 bg-gray-300 rounded w-5/6"})]})]})})})})};export{y as default};
