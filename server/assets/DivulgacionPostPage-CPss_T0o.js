import{jsxs as e,jsx as t}from"react/jsx-runtime";import{useMemo as r}from"react";import{useParams as a,Navigate as o,Link as i}from"react-router-dom";import{h as s,u as l,i as n,g as c,S as p,B as m}from"./main.ssg-CDsK34Qu.js";import{S as d}from"./SmartImage-Cs9LJIqe.js";import{ArrowLeft as g,Share2 as x,Linkedin as h,MessageCircle as u,Copy as b,ArrowRight as y}from"lucide-react";import{D as f}from"./DivulgacionCard-C_unNuL2.js";import"react-dom/server";import"react-router-dom/server.mjs";import"@tanstack/react-query";import"@radix-ui/react-toast";import"class-variance-authority";import"clsx";import"tailwind-merge";import"next-themes";import"sonner";import"@radix-ui/react-tooltip";import"@radix-ui/react-slot";import"framer-motion";const v=({name:r,role:a,image:o,date:i,size:s="md"})=>{const l=new Date(i).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),n={sm:{image:"w-10 h-10",name:"text-sm",role:"text-xs",date:"text-xs"},md:{image:"w-12 h-12",name:"text-base",role:"text-sm",date:"text-sm"},lg:{image:"w-16 h-16",name:"text-lg",role:"text-base",date:"text-base"}}[s],c=o.replace(/\.webp$/i,"");return e("div",{className:"flex items-center gap-4",children:[t(d,{basePath:c,usage:"avatar",alt:r,className:`${n.image} rounded-full object-cover ring-2 ring-white shadow-md`}),e("div",{children:[t("p",{className:`font-semibold text-gray-900 ${n.name}`,children:r}),t("p",{className:`text-gray-600 ${n.role}`,children:a}),t("p",{className:`text-gray-500 ${n.date} mt-1`,children:l})]})]})},w=({title:r,subtitle:a,author:o,authorRole:i,authorImage:s,date:l,readTime:n,category:c})=>t("section",{className:"bg-gradient-to-b from-gray-50 to-white border-b border-gray-100",children:e("div",{className:"max-w-4xl mx-auto px-6 sm:px-8 lg:px-12 py-12 sm:py-16 lg:py-20",children:[(c||n)&&e("div",{className:"flex items-center gap-4 mb-6 text-sm text-gray-500",children:[c&&t("span",{className:"font-semibold text-primary uppercase tracking-wide",children:c}),n&&e("span",{className:"flex items-center gap-1",children:[t("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n," de lectura"]})]}),t("h1",{className:"font-poppins font-bold text-4xl sm:text-5xl lg:text-6xl text-gray-900 leading-tight mb-6",children:r}),a&&t("p",{className:"font-inter text-xl sm:text-2xl text-gray-600 leading-relaxed mb-8",children:a}),t("div",{className:"pt-8 border-t border-gray-200",children:t(v,{name:o,role:i,image:s,date:l,size:"lg"})})]})}),N=()=>{const{slug:d}=a(),{toast:v}=s();l();const N=r(()=>d?n(d):null,[d]);if(!N)return t(o,{to:"/404",replace:!0});const k=r(()=>c.filter(e=>e.slug!==d).slice(0,2),[d]);return e("div",{className:"w-full bg-background",children:[t(p,{title:`${N.title} | Divulgación FyT`,description:N.excerpt,canonical:`https://fyt-research.org/divulgacion/${N.slug}`,openGraph:{title:N.title,description:N.excerpt,type:"article"}}),t("div",{className:"border-b border-gray-100 bg-white",children:t("div",{className:"max-w-4xl mx-auto px-6 sm:px-8 lg:px-12 py-4",children:t(m,{variant:"ghost",asChild:!0,className:"gap-2",children:e(i,{to:"/divulgacion",children:[t(g,{className:"w-4 h-4"}),"Volver a Divulgación"]})})})}),t(w,{title:N.title,subtitle:N.excerpt,author:N.author,authorRole:N.authorRole,authorImage:N.authorImage,date:N.date,readTime:N.readTime,category:N.category}),e("article",{className:"max-w-4xl mx-auto px-6 sm:px-8 lg:px-12 py-12 sm:py-16",children:[t("div",{className:"prose prose-lg prose-gray max-w-none\n            prose-headings:font-poppins prose-headings:font-bold prose-headings:text-gray-900 prose-headings:mt-8 prose-headings:mb-4\n            prose-h2:sr-only prose-h3:sr-only\n            prose-p:font-inter prose-p:text-gray-700 prose-p:leading-8 prose-p:mb-6\n            prose-a:text-primary prose-a:no-underline hover:prose-a:underline\n            prose-strong:text-gray-900 prose-strong:font-semibold\n            prose-ol:font-inter prose-ol:mb-6 prose-ul:font-inter prose-ul:mb-6\n            prose-li:text-gray-700 prose-li:leading-8 prose-li:mb-3\n            prose-code:text-primary prose-code:bg-gray-100 prose-code:px-2 prose-code:py-1 prose-code:rounded\n            prose-pre:bg-gray-900 prose-pre:text-gray-100 prose-pre:p-4 prose-pre:rounded-lg prose-pre:mb-6\n            prose-blockquote:border-l-4 prose-blockquote:border-primary prose-blockquote:bg-primary/5 prose-blockquote:py-4 prose-blockquote:px-6 prose-blockquote:mb-6 prose-blockquote:italic\n            prose-img:rounded-lg prose-img:shadow-lg prose-img:my-8",dangerouslySetInnerHTML:{__html:N.content}}),N.tags&&N.tags.length>0&&e("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[t("h3",{className:"font-poppins font-semibold text-sm text-gray-500 uppercase tracking-wide mb-4",children:"Temas relacionados"}),t("div",{className:"flex flex-wrap gap-2",children:N.tags.map(e=>t("span",{className:"inline-block px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors",children:e},e))})]})]}),t("section",{className:"border-t border-gray-200 bg-gray-50",children:t("div",{className:"max-w-4xl mx-auto px-6 sm:px-8 lg:px-12 py-12",children:e("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-6",children:[e("div",{children:[e("h3",{className:"font-poppins font-bold text-xl text-gray-900 mb-2 flex items-center gap-2",children:[t(x,{className:"w-5 h-5"}),"Compartir artículo"]}),t("p",{className:"text-gray-600 text-sm",children:"Ayúdanos a difundir conocimiento científico"})]}),e("div",{className:"flex gap-3",children:[e(m,{onClick:()=>{const e=encodeURIComponent(window.location.href);encodeURIComponent(N.title),window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${e}`,"_blank","width=600,height=600")},variant:"outline",size:"lg",className:"gap-2 text-[#0A66C2] border-[#0A66C2] hover:bg-[#0A66C2] hover:text-white active:bg-[#0A66C2] active:text-white focus-visible:ring-2 focus-visible:ring-[#0A66C2]/40",children:[t(h,{className:"w-5 h-5"}),"LinkedIn"]}),e(m,{onClick:()=>{const e=encodeURIComponent(`${N.title} - ${window.location.href}`);window.open(`https://wa.me/?text=${e}`,"_blank")},variant:"outline",size:"lg",className:"gap-2 text-[#25D366] border-[#25D366] hover:bg-[#25D366] hover:text-white active:bg-[#25D366] active:text-white focus-visible:ring-2 focus-visible:ring-[#25D366]/40",children:[t(u,{className:"w-5 h-5"}),"WhatsApp"]}),e(m,{onClick:async()=>{try{await navigator.clipboard.writeText(window.location.href),v({title:"Enlace copiado",description:"El enlace ha sido copiado al portapapeles"})}catch(e){v({title:"Error",description:"No se pudo copiar el enlace",variant:"destructive"})}},variant:"outline",size:"lg",className:"gap-2 text-purple-600 border-purple-600 hover:bg-purple-600 hover:text-white active:bg-purple-600 active:text-white focus-visible:ring-2 focus-visible:ring-purple-400/40",children:[t(b,{className:"w-5 h-5"}),"Copiar"]})]})]})})}),t("section",{className:"border-t border-gray-200 bg-white",children:e("div",{className:"max-w-4xl mx-auto px-6 sm:px-8 lg:px-12 py-16 text-center",children:[t("h2",{className:"font-poppins font-bold text-3xl text-gray-900 mb-4",children:"¿Te interesó este tema?"}),t("p",{className:"font-inter text-lg text-gray-600 mb-8 max-w-2xl mx-auto",children:"Si deseas conocer más sobre nuestra investigación o proponer una colaboración, estamos abiertos al diálogo académico."}),e("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t(m,{asChild:!0,size:"lg",className:"text-lg px-8",children:t(i,{to:"/contactos",children:"Proponer colaboración"})}),t(m,{asChild:!0,variant:"outline",size:"lg",className:"text-lg px-8",children:t(i,{to:"/investigacion",children:"Ver investigación"})})]})]})}),k.length>0&&t("section",{className:"border-t border-gray-200 bg-gray-50",children:e("div",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12 py-16",children:[e("h2",{className:"font-poppins font-bold text-3xl text-gray-900 mb-8 flex items-center gap-2",children:["Más artículos",t(y,{className:"w-6 h-6 text-primary"})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:k.map(e=>t(f,{post:e},e.slug))}),t("div",{className:"text-center mt-12",children:t(m,{asChild:!0,variant:"outline",size:"lg",children:t(i,{to:"/divulgacion",children:"Ver todos los artículos"})})})]})})]})};export{N as default};
