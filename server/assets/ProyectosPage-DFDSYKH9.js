import{jsxs as e,jsx as t,Fragment as a}from"react/jsx-runtime";import r,{useState as i,useMemo as o}from"react";import{Microscope as s}from"lucide-react";import{p as n}from"./proyectos-C848vuf1.js";import{u as l,S as c,a as d}from"./main.ssg-DC2TegSg.js";import{S as m,R as p}from"./ResearchSubNav-BgIR7xpx.js";import{S as g}from"./SmartToolbar-DPCYStN5.js";import{P as u}from"./PlaceholderSection-DQtavKnx.js";import"react-dom/server";import"react-router-dom/server.mjs";import"@tanstack/react-query";import"@radix-ui/react-toast";import"class-variance-authority";import"clsx";import"tailwind-merge";import"next-themes";import"sonner";import"@radix-ui/react-tooltip";import"react-router-dom";import"@radix-ui/react-slot";import"framer-motion";const h=({titulo:a,fecha:r,tipo:i,institucion:o,tags:s,descripcion:n})=>{const l=(e=>{if(!e)return;const t=e.substring(0,4),a=Number(t);return Number.isNaN(a)?void 0:a})(r),c=i||"Proyecto",d=c.toLowerCase().includes("en curso")||c.toLowerCase().includes("activo"),m=c.toLowerCase().includes("finalizado")||c.toLowerCase().includes("concluido");return e("article",{className:"bg-white border border-gray-200 rounded-xl p-4 md:p-5 shadow-sm hover:shadow-md hover:scale-[1.02] transition-transform duration-300 will-change-transform",children:[e("div",{className:"flex items-center justify-between mb-3",children:[t("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ring-1 "+(d?"bg-emerald-50 text-emerald-700 ring-emerald-600/20":m?"bg-gray-100 text-gray-600 ring-gray-500/20":"bg-indigo-50 text-indigo-700 ring-indigo-600/20"),children:c}),l&&t("span",{className:"px-2.5 py-1 rounded-full bg-gray-100 text-gray-700 text-xs font-semibold",children:l})]}),t("h3",{className:"text-lg font-bold text-indigo-900 leading-snug mb-2",children:a}),n&&t("p",{className:"text-sm text-gray-600 leading-relaxed line-clamp-3",children:n}),t("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:Array.isArray(s)&&s.filter(Boolean).map(e=>t("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full bg-gray-100 text-gray-700 text-xs",children:e},e))}),o&&e("div",{className:"mt-3 text-xs text-gray-500",children:["Institución: ",t("span",{className:"font-medium text-gray-700",children:o})]})]})},y=()=>{l();const[y,x]=i(""),[f,b]=i(""),[v,N]=i(""),[w,C]=i(""),[S,T]=i(1),F=o(()=>[...new Set(n.map(e=>e.anio))].sort((e,t)=>t-e),[]),j=o(()=>[...new Set(n.map(e=>e.tipo))],[]),P=o(()=>[...new Set(n.map(e=>e.estado))],[]),G=o(()=>n.filter(e=>{const t=""===y.trim()||[e.titulo,e.descripcion,e.institucion].filter(Boolean).join(" ").toLowerCase().includes(y.toLowerCase()),a=""===f||e.anio===Number(f),r=""===v||e.tipo===v,i=""===w||e.estado===w;return t&&a&&r&&i}).sort((e,t)=>t.anio-e.anio),[y,f,v,w]),L=n.length>0,M=10*S,A=M-10,k=G.slice(A,M),z=Math.max(1,Math.ceil(G.length/10));return r.useEffect(()=>{T(1)},[y,f,v,w]),e("div",{className:"w-full bg-background",children:[t(c,{title:"Proyectos de Investigación FyT",description:"Proyectos de investigación del Grupo FyT en Farmacología, Terapéutica, Farmacia Asistencial y Modelización Molecular.",author:"Grupo FyT",robots:"index, follow",canonical:"https://fyt-research.org/investigacion/proyectos",openGraph:{title:"Grupo FyT | Proyectos de Investigación",description:"Proyectos del Grupo FyT",type:"website",url:"https://fyt-research.org/investigacion/proyectos",siteName:"Grupo FyT",locale:"es_ES"},twitter:{card:"summary_large_image",site:"@fytlab"}}),t(m,{title:"Proyectos de Investigación",subtitle:"Evidencia científica generada por el Grupo FyT a través de iniciativas en farmacología, terapéutica, farmacia asistencial y modelización molecular.",icon:s}),t(p,{}),t(g,{searchQuery:y,onSearchChange:x,onReset:()=>{x(""),b(""),N(""),C("")},availableYears:F,selectedYear:f,onYearChange:b,availableTypes:j,selectedType:v,onTypeChange:N,availableCategories:P,selectedCategory:w,onCategoryChange:C,resultCount:G.length,totalCount:n.length,isLoading:!1}),t("section",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12 py-8 md:py-12 min-h-[900px]",children:L?e(a,{children:[e(a,{children:[t(d,{children:t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 min-h-[700px]",children:k.map((e,a)=>{const r=`${e.anio}-${String(e.mes||1).padStart(2,"0")}-01`;return t(h,{titulo:e.titulo,fecha:r,tipo:e.estado,institucion:e.institucion,descripcion:e.descripcion,tags:e.tags||e.lineas,enlace:e.enlace},e.id)})})}),e("div",{className:"mt-8 flex items-center justify-center gap-4",children:[t("button",{onClick:()=>T(e=>Math.max(1,e-1)),disabled:1===S,className:"px-4 py-2 border border-slate-300 rounded-md text-slate-700 disabled:opacity-50 hover:bg-slate-100 transition-colors",children:"Anterior"}),e("span",{className:"text-sm text-slate-600",children:["Página ",S," de ",z]}),t("button",{onClick:()=>T(e=>Math.min(z,e+1)),disabled:S===z,className:"px-4 py-2 border border-slate-300 rounded-md text-slate-700 disabled:opacity-50 hover:bg-slate-100 transition-colors",children:"Siguiente"})]})]}),0===G.length&&t(d,{children:t("div",{className:"text-center py-16",children:t("p",{className:"text-muted-foreground",children:"No se encontraron proyectos con los filtros seleccionados."})})})]}):t(d,{children:t(u,{message:"Aquí se cargará el listado de proyectos de investigación del Grupo FyT."})})})]})};export{y as default};
