import{jsx as e,jsxs as t,Fragment as a}from"react/jsx-runtime";import i,{useState as r,useMemo as s}from"react";import{BookOpen as o,FileText as n,ExternalLink as l}from"lucide-react";import{a as c}from"./publicaciones-C930amTq.js";import{u as d,S as m,a as p}from"./main.ssg-zj-i1yAD.js";import{S as u,R as h}from"./ResearchSubNav-BgIR7xpx.js";import{S as x}from"./SmartToolbar-DPCYStN5.js";import"react-dom/server";import"react-router-dom/server.mjs";import"@tanstack/react-query";import"@radix-ui/react-toast";import"class-variance-authority";import"clsx";import"tailwind-merge";import"next-themes";import"sonner";import"@radix-ui/react-tooltip";import"react-router-dom";import"@radix-ui/react-slot";import"framer-motion";const g=({titulo:a,autores:i,fecha:r,tipo:s,institucion:c,enlace:d,doi:m})=>{const p=(e=>{if(!e)return;const t=e.substring(0,4),a=Number(t);return Number.isNaN(a)?void 0:a})(r),u=(s||"").toLowerCase(),h=u.includes("libro")||u.includes("capitulo"),x=h?"text-violet-600":"text-sky-600",g=h?o:n,b=m?m.startsWith("http")?m:`https://doi.org/${m}`:d;return e("article",{className:"w-full px-2 sm:px-3",children:t("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4 py-4 border-b border-gray-200 hover:bg-gray-50 rounded-md transition-all duration-200 hover:shadow-sm hover:scale-[1.01] will-change-transform",children:[t("div",{className:"flex items-center sm:items-start gap-3 min-w-0",children:[e("span",{className:"inline-flex items-center justify-center w-6 h-6 min-w-[24px] shrink-0",children:e(g,{className:`w-6 h-6 ${x}`})}),t("div",{className:"flex-1 min-w-0",children:[e("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 leading-snug line-clamp-2",children:a}),(i||c)&&t("div",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:[i&&e("span",{className:"truncate inline-block max-w-full align-top",children:i}),i&&c&&e("span",{className:"px-2",children:"•"}),c&&e("em",{className:"text-gray-400 not-italic italic",children:c})]})]})]}),t("div",{className:"flex items-center gap-2 sm:ml-auto pt-1 sm:pt-0",children:[p&&e("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full bg-gray-100 text-gray-700 text-xs font-semibold",children:p}),b&&t("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2.5 py-1 border border-gray-300 text-gray-700 rounded-md text-xs hover:bg-gray-100 transition-colors",children:[e(l,{className:"w-3.5 h-3.5"}),e("span",{children:"Ver"})]})]})]})})},b=()=>{d();const[n,l]=r(""),[b,f]=r(""),[y,v]=r(""),[N,w]=r(1),C=c.length>0,k=s(()=>[...new Set(c.map(e=>e.anio))].sort((e,t)=>t-e),[]),S=s(()=>[...new Set(c.map(e=>e.tipo))].sort(),[]),j=s(()=>c.filter(e=>{const t=""===n.trim()||[e.titulo,e.autores,e.revista,e.editorial,e.descripcion].filter(Boolean).join(" ").toLowerCase().includes(n.toLowerCase()),a=""===b||e.anio===Number(b),i=""===y||e.tipo===y;return t&&a&&i}).sort((e,t)=>t.anio-e.anio),[n,b,y]),T=10*N,F=T-10,M=j.slice(F,T),P=Math.max(1,Math.ceil(j.length/10));return i.useEffect(()=>{w(1)},[n,b,y]),t("div",{className:"w-full bg-background",children:[e(m,{title:"Publicaciones Científicas FyT",description:"Publicaciones del Grupo FyT en revistas indexadas, libros y espacios editoriales académicos en Farmacología.",author:"Grupo FyT",robots:"index, follow",canonical:"https://fyt-research.org/investigacion/publicaciones",openGraph:{title:"Grupo FyT | Publicaciones Científicas",description:"Producción científica en revistas indexadas y espacios editoriales académicos",type:"website",url:"https://fyt-research.org/investigacion/publicaciones",siteName:"Grupo FyT",locale:"es_ES"},twitter:{card:"summary_large_image",site:"@fytlab"}}),e(u,{title:"Publicaciones Científicas y Académicas",subtitle:"Producción intelectual del Grupo FyT en revistas indexadas, libros y espacios editoriales científicos.",icon:o}),e(h,{}),e(x,{searchQuery:n,onSearchChange:l,onReset:()=>{l(""),f(""),v("")},availableYears:k,selectedYear:b,onYearChange:f,availableTypes:S,selectedType:y,onTypeChange:v,resultCount:j.length,totalCount:c.length,isLoading:!1}),e("section",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12 py-8 md:py-12 min-h-[800px]",children:C?e(a,{children:j.length>0?t(a,{children:[e(p,{children:e("div",{className:"flex flex-col gap-4 min-h-[600px]",children:M.map((t,a)=>{const i=`${t.anio}-${String(t.mes||1).padStart(2,"0")}-01`;return e(g,{titulo:t.titulo,autores:t.autores,fecha:i,tipo:t.tipo,institucion:t.revista||t.editorial,enlace:t.enlace,descripcion:t.descripcion,doi:t.doi,tags:t.tags},t.id||`${t.doi||t.titulo}-${a}`)})})}),t("div",{className:"mt-8 flex items-center justify-center gap-4",children:[e("button",{onClick:()=>w(e=>Math.max(1,e-1)),disabled:1===N,className:"px-4 py-2 border border-slate-300 rounded-md text-slate-700 disabled:opacity-50 hover:bg-slate-100 transition-colors",children:"Anterior"}),t("span",{className:"text-sm text-slate-600",children:["Página ",N," de ",P]}),e("button",{onClick:()=>w(e=>Math.min(P,e+1)),disabled:N===P,className:"px-4 py-2 border border-slate-300 rounded-md text-slate-700 disabled:opacity-50 hover:bg-slate-100 transition-colors",children:"Siguiente"})]})]}):e(p,{children:t("div",{className:"py-16 flex flex-col items-center justify-center border border-dashed border-slate-300 rounded-lg",children:[t("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 h-10 text-slate-400 mb-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{d:"M6 20v-2a4 4 0 0 1 4-4h.5"}),e("path",{d:"M2 12h6"}),e("path",{d:"M4 10v4"}),e("circle",{cx:"9",cy:"7",r:"4"}),e("path",{d:"m16 11 2 2 4-4"})]}),e("p",{className:"text-slate-600",children:"No hay publicaciones registradas en esta categoría aún."})]})})}):null})]})};export{b as default};
