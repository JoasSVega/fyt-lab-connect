import{j as e,r as s,eh as t,ef as a}from"./vendor-BoI-RCOn.js";import{p as i}from"./proyectos-C848vuf1.js";import{u as r,S as o,a as n}from"./index-Binp8fvr.js";import{S as l,R as c}from"./ResearchSubNav-BIw4g4wN.js";import{S as d}from"./SmartToolbar-DhokcLhi.js";import{P as m}from"./PlaceholderSection-C2ymDeZ7.js";import"./radix-ByoYm48K.js";import"./carousel-CHkIgb8Q.js";import"./motion-CJo0KzN4.js";const p=({titulo:s,fecha:t,tipo:a,institucion:i,tags:r,descripcion:o})=>{const n=(e=>{if(!e)return;const s=e.substring(0,4),t=Number(s);return Number.isNaN(t)?void 0:t})(t),l=a||"Proyecto",c=l.toLowerCase().includes("en curso")||l.toLowerCase().includes("activo"),d=l.toLowerCase().includes("finalizado")||l.toLowerCase().includes("concluido");return e.jsxs("article",{className:"bg-white border border-gray-200 rounded-xl p-4 md:p-5 shadow-sm hover:shadow-md hover:scale-[1.02] transition-transform duration-300 will-change-transform",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ring-1 "+(c?"bg-emerald-50 text-emerald-700 ring-emerald-600/20":d?"bg-gray-100 text-gray-600 ring-gray-500/20":"bg-indigo-50 text-indigo-700 ring-indigo-600/20"),children:l}),n&&e.jsx("span",{className:"px-2.5 py-1 rounded-full bg-gray-100 text-gray-700 text-xs font-semibold",children:n})]}),e.jsx("h3",{className:"text-lg font-bold text-indigo-900 leading-snug mb-2",children:s}),o&&e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed line-clamp-3",children:o}),e.jsx("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:Array.isArray(r)&&r.filter(Boolean).map(s=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full bg-gray-100 text-gray-700 text-xs",children:s},s))}),i&&e.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Institución: ",e.jsx("span",{className:"font-medium text-gray-700",children:i})]})]})},g=()=>{r();const[g,u]=s.useState(""),[x,h]=s.useState(""),[y,f]=s.useState(""),[j,b]=s.useState(""),[v,N]=s.useState(1),w=s.useMemo(()=>[...new Set(i.map(e=>e.anio))].sort((e,s)=>s-e),[]),S=s.useMemo(()=>[...new Set(i.map(e=>e.tipo))],[]),C=s.useMemo(()=>[...new Set(i.map(e=>e.estado))],[]),T=s.useMemo(()=>i.filter(e=>{const s=""===g.trim()||[e.titulo,e.descripcion,e.institucion].filter(Boolean).join(" ").toLowerCase().includes(g.toLowerCase()),t=""===x||e.anio===Number(x),a=""===y||e.tipo===y,i=""===j||e.estado===j;return s&&t&&a&&i}).sort((e,s)=>s.anio-e.anio),[g,x,y,j]),F=i.length>0,M=10*v,P=M-10,G=T.slice(P,M),L=Math.max(1,Math.ceil(T.length/10));return t.useEffect(()=>{N(1)},[g,x,y,j]),e.jsxs("div",{className:"w-full bg-background",children:[e.jsx(o,{title:"Proyectos de Investigación FyT",description:"Proyectos de investigación del Grupo FyT en Farmacología, Terapéutica, Farmacia Asistencial y Modelización Molecular.",author:"Grupo FyT",robots:"index, follow",canonical:"https://fyt-research.org/investigacion/proyectos",openGraph:{title:"Grupo FyT | Proyectos de Investigación",description:"Proyectos del Grupo FyT",type:"website",url:"https://fyt-research.org/investigacion/proyectos",siteName:"Grupo FyT",locale:"es_ES"},twitter:{card:"summary_large_image",site:"@fytlab"}}),e.jsx(l,{title:"Proyectos de Investigación",subtitle:"Evidencia científica generada por el Grupo FyT a través de iniciativas en farmacología, terapéutica, farmacia asistencial y modelización molecular.",icon:a}),e.jsx(c,{}),e.jsx(d,{searchQuery:g,onSearchChange:u,onReset:()=>{u(""),h(""),f(""),b("")},availableYears:w,selectedYear:x,onYearChange:h,availableTypes:S,selectedType:y,onTypeChange:f,availableCategories:C,selectedCategory:j,onCategoryChange:b,resultCount:T.length,totalCount:i.length,isLoading:!1}),e.jsx("section",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12 py-8 md:py-12 min-h-[900px]",children:F?e.jsxs(e.Fragment,{children:[e.jsxs(e.Fragment,{children:[e.jsx(n,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 min-h-[700px]",children:G.map((s,t)=>{const a=`${s.anio}-${String(s.mes||1).padStart(2,"0")}-01`;return e.jsx(p,{titulo:s.titulo,fecha:a,tipo:s.estado,institucion:s.institucion,descripcion:s.descripcion,tags:s.tags||s.lineas,enlace:s.enlace},s.id)})})}),e.jsxs("div",{className:"mt-8 flex items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>N(e=>Math.max(1,e-1)),disabled:1===v,className:"px-4 py-2 border border-slate-300 rounded-md text-slate-700 disabled:opacity-50 hover:bg-slate-100 transition-colors",children:"Anterior"}),e.jsxs("span",{className:"text-sm text-slate-600",children:["Página ",v," de ",L]}),e.jsx("button",{onClick:()=>N(e=>Math.min(L,e+1)),disabled:v===L,className:"px-4 py-2 border border-slate-300 rounded-md text-slate-700 disabled:opacity-50 hover:bg-slate-100 transition-colors",children:"Siguiente"})]})]}),0===T.length&&e.jsx(n,{children:e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-muted-foreground",children:"No se encontraron proyectos con los filtros seleccionados."})})})]}):e.jsx(n,{children:e.jsx(m,{message:"Aquí se cargará el listado de proyectos de investigación del Grupo FyT."})})})]})};export{g as default};
