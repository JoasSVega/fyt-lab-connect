import{j as e,al as s,av as a,aC as t,r as i,am as r}from"./vendor-29DZ0te0.js";import{a as o}from"./publicaciones-C930amTq.js";import{u as n,S as l,a as c}from"./index-CtRNSMMG.js";import{S as d,R as m}from"./ResearchSubNav-DeH5M9rw.js";import{S as x}from"./SmartToolbar-D2Ua6_U8.js";import"./radix-CttiZxwU.js";import"./carousel-CQL47Cha.js";import"./motion-DhUH61oz.js";const p=({titulo:i,autores:r,fecha:o,tipo:n,institucion:l,enlace:c,doi:d})=>{const m=(e=>{if(!e)return;const s=e.substring(0,4),a=Number(s);return Number.isNaN(a)?void 0:a})(o),x=(n||"").toLowerCase(),p=x.includes("libro")||x.includes("capitulo"),u=p?"text-violet-600":"text-sky-600",h=p?s:a,g=d?d.startsWith("http")?d:"https://doi.org/".concat(d):c;return e.jsx("article",{className:"w-full px-2 sm:px-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4 py-4 border-b border-gray-200 hover:bg-gray-50 rounded-md transition-colors",children:[e.jsxs("div",{className:"flex items-center sm:items-start gap-3 min-w-0",children:[e.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 min-w-[24px] shrink-0",children:e.jsx(h,{className:"w-6 h-6 ".concat(u)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 leading-snug line-clamp-2",children:i}),(r||l)&&e.jsxs("div",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:[r&&e.jsx("span",{className:"truncate inline-block max-w-full align-top",children:r}),r&&l&&e.jsx("span",{className:"px-2",children:"•"}),l&&e.jsx("em",{className:"text-gray-400 not-italic italic",children:l})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:ml-auto pt-1 sm:pt-0",children:[m&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full bg-gray-100 text-gray-700 text-xs font-semibold",children:m}),g&&e.jsxs("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2.5 py-1 border border-gray-300 text-gray-700 rounded-md text-xs hover:bg-gray-100 transition-colors",children:[e.jsx(t,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Ver"})]})]})]})})},u=()=>{n();const[s,a]=i.useState(""),[t,u]=i.useState(""),[h,g]=i.useState(""),[j,b]=i.useState(1),f=o.length>0,y=i.useMemo(()=>[...new Set(o.map(e=>e.anio))].sort((e,s)=>s-e),[]),N=i.useMemo(()=>[...new Set(o.map(e=>e.tipo))].sort(),[]),v=i.useMemo(()=>o.filter(e=>{const a=""===s.trim()||[e.titulo,e.autores,e.revista,e.editorial,e.descripcion].filter(Boolean).join(" ").toLowerCase().includes(s.toLowerCase()),i=""===t||e.anio===Number(t),r=""===h||e.tipo===h;return a&&i&&r}),[s,t,h]),w=10*j,C=w-10,S=v.slice(C,w),k=Math.max(1,Math.ceil(v.length/10));return r.useEffect(()=>{b(1)},[s,t,h]),e.jsxs("div",{className:"w-full bg-background",children:[e.jsx(l,{title:"Grupo FyT | Publicaciones Científicas y Académicas",description:"Publicaciones científicas del Grupo FyT en farmacología, terapéutica, atención farmacéutica, modelización molecular, farmacoepidemiología, farmacoeconomía y farmacovigilancia en revistas y libros académicos.",author:"Grupo FyT",robots:"index, follow",canonical:"https://fyt-research.org/investigacion/publicaciones"}),e.jsx(d,{title:"Publicaciones Científicas y Académicas",subtitle:"Producción intelectual del Grupo FyT en revistas indexadas, libros y espacios editoriales científicos."}),e.jsx(m,{}),e.jsx(x,{searchQuery:s,onSearchChange:a,onReset:()=>{a(""),u(""),g("")},availableYears:y,selectedYear:t,onYearChange:u,availableTypes:N,selectedType:h,onTypeChange:g,resultCount:v.length,totalCount:o.length,isLoading:!1}),e.jsx("section",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12 py-8 md:py-12 min-h-[800px]",children:f?e.jsx(e.Fragment,{children:v.length>0?e.jsxs(e.Fragment,{children:[e.jsx(c,{children:e.jsx("div",{className:"flex flex-col gap-4 min-h-[600px]",children:S.map((s,a)=>{const t="".concat(s.anio,"-").concat(String(s.mes||1).padStart(2,"0"),"-01");return e.jsx(p,{titulo:s.titulo,autores:s.autores,fecha:t,tipo:s.tipo,institucion:s.revista||s.editorial,enlace:s.enlace,descripcion:s.descripcion,doi:s.doi,tags:s.tags},s.id||"".concat(s.doi||s.titulo,"-").concat(a))})})}),e.jsxs("div",{className:"mt-8 flex items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>b(e=>Math.max(1,e-1)),disabled:1===j,className:"px-4 py-2 border border-slate-300 rounded-md text-slate-700 disabled:opacity-50 hover:bg-slate-100 transition-colors",children:"Anterior"}),e.jsxs("span",{className:"text-sm text-slate-600",children:["Página ",j," de ",k]}),e.jsx("button",{onClick:()=>b(e=>Math.min(k,e+1)),disabled:j===k,className:"px-4 py-2 border border-slate-300 rounded-md text-slate-700 disabled:opacity-50 hover:bg-slate-100 transition-colors",children:"Siguiente"})]})]}):e.jsx(c,{children:e.jsxs("div",{className:"py-16 flex flex-col items-center justify-center border border-dashed border-slate-300 rounded-lg",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 h-10 text-slate-400 mb-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M6 20v-2a4 4 0 0 1 4-4h.5"}),e.jsx("path",{d:"M2 12h6"}),e.jsx("path",{d:"M4 10v4"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"m16 11 2 2 4-4"})]}),e.jsx("p",{className:"text-slate-600",children:"No hay publicaciones registradas en esta categoría aún."})]})})}):null})]})};export{u as default};
