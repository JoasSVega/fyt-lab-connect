import{j as e,r as t,am as s}from"./vendor-BdXevAs2.js";import{p as a}from"./proyectos-C848vuf1.js";import{u as i,S as r,a as o}from"./index-yhsrB-qh.js";import{S as n,R as l}from"./ResearchSubNav-QuAbyuYg.js";import{S as c}from"./SmartToolbar-RDdPQfnI.js";import{P as d}from"./PlaceholderSection-73mWEypj.js";import"./radix-ByoYm48K.js";import"./carousel-CHkIgb8Q.js";import"./motion-Dk2baUnN.js";const m=({titulo:t,fecha:s,tipo:a,institucion:i,tags:r,descripcion:o})=>{const n=(e=>{if(!e)return;const t=e.substring(0,4),s=Number(t);return Number.isNaN(s)?void 0:s})(s),l=a||"Proyecto",c=l.toLowerCase().includes("en curso")||l.toLowerCase().includes("activo"),d=l.toLowerCase().includes("finalizado")||l.toLowerCase().includes("concluido");return e.jsxs("article",{className:"bg-white border border-gray-200 rounded-xl p-4 md:p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ring-1 "+(c?"bg-emerald-50 text-emerald-700 ring-emerald-600/20":d?"bg-gray-100 text-gray-600 ring-gray-500/20":"bg-indigo-50 text-indigo-700 ring-indigo-600/20"),children:l}),n&&e.jsx("span",{className:"px-2.5 py-1 rounded-full bg-gray-100 text-gray-700 text-xs font-semibold",children:n})]}),e.jsx("h3",{className:"text-lg font-bold text-indigo-900 leading-snug mb-2",children:t}),o&&e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed line-clamp-3",children:o}),e.jsx("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:Array.isArray(r)&&r.filter(Boolean).map(t=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full bg-gray-100 text-gray-700 text-xs",children:t},t))}),i&&e.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Institución: ",e.jsx("span",{className:"font-medium text-gray-700",children:i})]})]})},p=()=>{i();const[p,x]=t.useState(""),[u,g]=t.useState(""),[h,y]=t.useState(""),[j,b]=t.useState(""),[f,v]=t.useState(1),N=t.useMemo(()=>[...new Set(a.map(e=>e.anio))].sort((e,t)=>t-e),[]),w=t.useMemo(()=>[...new Set(a.map(e=>e.tipo))],[]),S=t.useMemo(()=>[...new Set(a.map(e=>e.estado))],[]),C=t.useMemo(()=>a.filter(e=>{const t=""===p.trim()||[e.titulo,e.descripcion,e.institucion].filter(Boolean).join(" ").toLowerCase().includes(p.toLowerCase()),s=""===u||e.anio===Number(u),a=""===h||e.tipo===h,i=""===j||e.estado===j;return t&&s&&a&&i}),[p,u,h,j]),T=a.length>0,F=10*f,G=F-10,L=C.slice(G,F),M=Math.max(1,Math.ceil(C.length/10));return s.useEffect(()=>{v(1)},[p,u,h,j]),e.jsxs("div",{className:"w-full bg-background",children:[e.jsx(r,{title:"Grupo FyT | Proyectos de Investigación",description:"Listado de proyectos de investigación del Grupo de Investigación en Farmacología y Terapéutica.",author:"Grupo FyT",robots:"index, follow",canonical:"https://fyt-research.org/investigacion/proyectos",openGraph:{title:"Grupo FyT | Proyectos de Investigación",description:"Proyectos del Grupo FyT",type:"website"},twitter:{card:"summary",site:"@fytlab"}}),e.jsx(n,{title:"Proyectos de Investigación",subtitle:"Evidencia científica generada por el Grupo FyT a través de iniciativas en farmacología, terapéutica, farmacia asistencial y modelización molecular."}),e.jsx(l,{}),e.jsx(c,{searchQuery:p,onSearchChange:x,onReset:()=>{x(""),g(""),y(""),b("")},availableYears:N,selectedYear:u,onYearChange:g,availableTypes:w,selectedType:h,onTypeChange:y,availableCategories:S,selectedCategory:j,onCategoryChange:b,resultCount:C.length,totalCount:a.length,isLoading:!1}),e.jsx("section",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12 py-8 md:py-12 min-h-[900px]",children:T?e.jsxs(e.Fragment,{children:[e.jsxs(e.Fragment,{children:[e.jsx(o,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 min-h-[700px]",children:L.map((t,s)=>{const a=`${t.anio}-${String(t.mes||1).padStart(2,"0")}-01`;return e.jsx(m,{titulo:t.titulo,fecha:a,tipo:t.estado,institucion:t.institucion,descripcion:t.descripcion,tags:t.tags||t.lineas,enlace:t.enlace},t.id)})})}),e.jsxs("div",{className:"mt-8 flex items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>v(e=>Math.max(1,e-1)),disabled:1===f,className:"px-4 py-2 border border-slate-300 rounded-md text-slate-700 disabled:opacity-50 hover:bg-slate-100 transition-colors",children:"Anterior"}),e.jsxs("span",{className:"text-sm text-slate-600",children:["Página ",f," de ",M]}),e.jsx("button",{onClick:()=>v(e=>Math.min(M,e+1)),disabled:f===M,className:"px-4 py-2 border border-slate-300 rounded-md text-slate-700 disabled:opacity-50 hover:bg-slate-100 transition-colors",children:"Siguiente"})]})]}),0===C.length&&e.jsx(o,{children:e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-muted-foreground",children:"No se encontraron proyectos con los filtros seleccionados."})})})]}):e.jsx(o,{children:e.jsx(d,{message:"Aquí se cargará el listado de proyectos de investigación del Grupo FyT."})})})]})};export{p as default};
