import{j as e,r as t,am as a}from"./vendor-29DZ0te0.js";import{p as s}from"./proyectos-C848vuf1.js";import{u as i,S as o,a as r}from"./index-CtRNSMMG.js";import{S as n,R as l}from"./ResearchSubNav-DeH5M9rw.js";import{S as c}from"./SmartToolbar-D2Ua6_U8.js";import{P as d}from"./PlaceholderSection-Dt6KpOgZ.js";import"./radix-CttiZxwU.js";import"./carousel-CQL47Cha.js";import"./motion-DhUH61oz.js";const m=({titulo:t,fecha:a,tipo:s,institucion:i,tags:o,descripcion:r})=>{const n=(e=>{if(!e)return;const t=e.substring(0,4),a=Number(t);return Number.isNaN(a)?void 0:a})(a),l=s||"Proyecto",c=l.toLowerCase().includes("en curso")||l.toLowerCase().includes("activo"),d=l.toLowerCase().includes("finalizado")||l.toLowerCase().includes("concluido");return e.jsxs("article",{className:"bg-white border border-gray-200 rounded-xl p-4 md:p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ring-1 ".concat(c?"bg-emerald-50 text-emerald-700 ring-emerald-600/20":d?"bg-gray-100 text-gray-600 ring-gray-500/20":"bg-indigo-50 text-indigo-700 ring-indigo-600/20"),children:l}),n&&e.jsx("span",{className:"px-2.5 py-1 rounded-full bg-gray-100 text-gray-700 text-xs font-semibold",children:n})]}),e.jsx("h3",{className:"text-lg font-bold text-indigo-900 leading-snug mb-2",children:t}),r&&e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed line-clamp-3",children:r}),e.jsx("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:Array.isArray(o)&&o.filter(Boolean).map(t=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full bg-gray-100 text-gray-700 text-xs",children:t},t))}),i&&e.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Institución: ",e.jsx("span",{className:"font-medium text-gray-700",children:i})]})]})},p=()=>{i();const[p,u]=t.useState(""),[x,g]=t.useState(""),[h,y]=t.useState(""),[f,j]=t.useState(""),[b,v]=t.useState(1),N=t.useMemo(()=>[...new Set(s.map(e=>e.anio))].sort((e,t)=>t-e),[]),w=t.useMemo(()=>[...new Set(s.map(e=>e.tipo))],[]),S=t.useMemo(()=>[...new Set(s.map(e=>e.estado))],[]),C=t.useMemo(()=>s.filter(e=>{const t=""===p.trim()||[e.titulo,e.descripcion,e.institucion].filter(Boolean).join(" ").toLowerCase().includes(p.toLowerCase()),a=""===x||e.anio===Number(x),s=""===h||e.tipo===h,i=""===f||e.estado===f;return t&&a&&s&&i}),[p,x,h,f]),T=s.length>0,F=10*b,G=F-10,P=C.slice(G,F),M=Math.max(1,Math.ceil(C.length/10));return a.useEffect(()=>{v(1)},[p,x,h,f]),e.jsxs("div",{className:"w-full bg-background",children:[e.jsx(o,{title:"Grupo FyT | Proyectos de Investigación",description:"Proyectos del Grupo FyT en farmacología, terapéutica, atención farmacéutica, modelización molecular, farmacoepidemiología, farmacoeconomía y farmacovigilancia.",author:"Grupo FyT",robots:"index, follow",canonical:"https://fyt-research.org/investigacion/proyectos",openGraph:{title:"Grupo FyT | Proyectos de Investigación",description:"Proyectos del Grupo FyT",type:"website"},twitter:{card:"summary",site:"@fytlab"}}),e.jsx(n,{title:"Proyectos de Investigación",subtitle:"Evidencia científica generada por el Grupo FyT a través de iniciativas en farmacología, terapéutica, farmacia asistencial y modelización molecular."}),e.jsx(l,{}),e.jsx(c,{searchQuery:p,onSearchChange:u,onReset:()=>{u(""),g(""),y(""),j("")},availableYears:N,selectedYear:x,onYearChange:g,availableTypes:w,selectedType:h,onTypeChange:y,availableCategories:S,selectedCategory:f,onCategoryChange:j,resultCount:C.length,totalCount:s.length,isLoading:!1}),e.jsx("section",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12 py-8 md:py-12 min-h-[900px]",children:T?e.jsxs(e.Fragment,{children:[e.jsxs(e.Fragment,{children:[e.jsx(r,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 min-h-[700px]",children:P.map((t,a)=>{const s="".concat(t.anio,"-").concat(String(t.mes||1).padStart(2,"0"),"-01");return e.jsx(m,{titulo:t.titulo,fecha:s,tipo:t.estado,institucion:t.institucion,descripcion:t.descripcion,tags:t.tags||t.lineas,enlace:t.enlace},t.id)})})}),e.jsxs("div",{className:"mt-8 flex items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>v(e=>Math.max(1,e-1)),disabled:1===b,className:"px-4 py-2 border border-slate-300 rounded-md text-slate-700 disabled:opacity-50 hover:bg-slate-100 transition-colors",children:"Anterior"}),e.jsxs("span",{className:"text-sm text-slate-600",children:["Página ",b," de ",M]}),e.jsx("button",{onClick:()=>v(e=>Math.min(M,e+1)),disabled:b===M,className:"px-4 py-2 border border-slate-300 rounded-md text-slate-700 disabled:opacity-50 hover:bg-slate-100 transition-colors",children:"Siguiente"})]})]}),0===C.length&&e.jsx(r,{children:e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-muted-foreground",children:"No se encontraron proyectos con los filtros seleccionados."})})})]}):e.jsx(r,{children:e.jsx(d,{message:"Aquí se cargará el listado de proyectos de investigación del Grupo FyT."})})})]})};export{p as default};
