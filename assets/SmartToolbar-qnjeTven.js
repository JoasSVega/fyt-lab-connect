import{r as e,j as a,S as t,O as s,T as l,W as o,X as n,C as r}from"./react-core-CLqPiW5B.js";const i=({searchQuery:i,onSearchChange:d,availableYears:c=[],selectedYear:u,onYearChange:g,availableTypes:x=[],selectedType:m,onTypeChange:p,availableCategories:h=[],selectedCategory:b="",onCategoryChange:f,categoryLabel:v="Categoría",onReset:y,resultCount:j,totalCount:w,isLoading:N=!1})=>{const[C,T]=e.useState(null),k=""!==u,S=""!==m,$=""!==b,A=""!==i.trim()||k||S||$,Y=({icon:e,label:t,value:s,options:l,onChange:o,isActive:n,disabled:i=!1})=>{const d=C===t,c=e=>{o(e),T(null)};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>T(d?null:t),disabled:i||0===l.length,className:`\n            flex items-center gap-2 pl-2.5 pr-2 py-1.5 text-sm font-medium rounded-full border cursor-pointer\n            transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/20\n            disabled:opacity-50 disabled:cursor-not-allowed\n            ${n?"bg-indigo-50 text-indigo-700 border-indigo-200 hover:bg-indigo-100":"bg-white text-gray-600 border-gray-200 hover:border-gray-300"}\n          `,children:[a.jsx("div",{className:"h-3.5 w-3.5 text-gray-400 flex-shrink-0",children:e}),a.jsx("span",{className:"hidden sm:inline text-xs",children:s||"Todos"}),a.jsx(r,{className:"h-3.5 w-3.5 transition-transform duration-300 "+(d?"rotate-180":"")})]}),a.jsx("div",{className:"absolute top-full left-0 mt-1 min-w-[200px] bg-white border border-gray-200 rounded-lg shadow-lg z-50 origin-top",style:{maxHeight:d?"300px":"0px",overflow:d?"auto":"hidden",opacity:d?1:0,transitionProperty:"max-height, opacity, transform",transitionDuration:"300ms",transitionTimingFunction:"ease-out",transform:d?"scaleY(1)":"scaleY(0.95)",pointerEvents:d?"auto":"none"},children:a.jsxs("div",{className:"py-1",children:[a.jsx("button",{onClick:()=>c(""),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Todos"}),l.map(e=>a.jsx("button",{onClick:()=>c(e.value),className:`\n                  w-full text-left px-4 py-2 text-sm transition-colors\n                  ${s===e.value?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-700 hover:bg-gray-50"}\n                `,children:e.label},e.value))]})})]})};return a.jsx("div",{className:"sticky top-16 z-30 bg-white/90 backdrop-blur-md border-b border-gray-100 shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center justify-between",children:[a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx(t,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"}),a.jsx("input",{id:"search-toolbar",name:"search",type:"text",value:i,onChange:e=>d(e.target.value),placeholder:"Buscar por título, autor...",className:"pl-10 pr-4 py-2 bg-gray-50 border-none rounded-full w-full text-sm text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 transition-all","aria-label":"Buscar publicaciones por título o autor"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(Y,{icon:a.jsx(s,{className:"w-full h-full"}),label:"Año",value:u,options:c.map(e=>({value:e.toString(),label:e.toString()})),onChange:g,isActive:k,disabled:N||0===c.length}),a.jsx(Y,{icon:a.jsx(l,{className:"w-full h-full"}),label:"Tipo",value:m,options:x.map(e=>({value:e,label:e})),onChange:p,isActive:S,disabled:N||0===x.length}),h.length>0&&f&&a.jsx(Y,{icon:a.jsx(o,{className:"w-full h-full"}),label:v,value:b,options:h.map(e=>({value:e,label:e})),onChange:f,isActive:$,disabled:N}),void 0!==j&&a.jsx("span",{className:"text-xs text-gray-500 font-medium whitespace-nowrap ml-2",children:N?a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"w-3 h-3 border-2 border-gray-300 border-t-indigo-600 rounded-full animate-spin"}),"Cargando..."]}):`${j} ${w?`de ${w}`:""} resultado${1!==j?"s":""}`}),A&&y&&a.jsxs("button",{onClick:y,className:"text-sm text-gray-500 hover:text-red-500 underline decoration-dotted transition-colors inline-flex items-center gap-1 ml-2",title:"Limpiar todos los filtros",children:[a.jsx(n,{className:"h-3.5 w-3.5"}),"Limpiar filtros"]})]})]})})})};export{i as S};
