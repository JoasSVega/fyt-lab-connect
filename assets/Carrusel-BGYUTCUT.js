import{r as e,fC as a,j as s,eL as t,eP as l,eh as r}from"./vendor-BoI-RCOn.js";import{i,B as o,x as n,C as c}from"./index-BQ7r-hcq.js";import"./radix-ByoYm48K.js";import"./carousel-CHkIgb8Q.js";import"./motion-CJo0KzN4.js";const d=e.createContext(null);function m(){const a=e.useContext(d);if(!a)throw new Error("useCarousel must be used within a <Carousel />");return a}const u=e.forwardRef(({orientation:t="horizontal",opts:l,setApi:r,plugins:o,className:n,children:c,...m},u)=>{const[p,h]=a({...l,axis:"horizontal"===t?"x":"y"},o),[f,x]=e.useState(!1),[w,g]=e.useState(!1),v=e.useCallback(e=>{e&&(x(e.canScrollPrev()),g(e.canScrollNext()))},[]),N=e.useCallback(()=>{h?.scrollPrev()},[h]),y=e.useCallback(()=>{h?.scrollNext()},[h]),b=e.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),N()):"ArrowRight"===e.key&&(e.preventDefault(),y())},[N,y]);return e.useEffect(()=>{h&&r&&r(h)},[h,r]),e.useEffect(()=>{if(h)return v(h),h.on("reInit",v),h.on("select",v),()=>{h?.off("select",v)}},[h,v]),s.jsx(d.Provider,{value:{carouselRef:p,api:h,opts:l,orientation:t||("y"===l?.axis?"vertical":"horizontal"),scrollPrev:N,scrollNext:y,canScrollPrev:f,canScrollNext:w},children:s.jsx("div",{ref:u,onKeyDownCapture:b,className:i("relative",n),role:"region","aria-roledescription":"carousel",...m,children:c})})});u.displayName="Carousel";const p=e.forwardRef(({className:e,...a},t)=>{const{carouselRef:l,orientation:r}=m();return s.jsx("div",{ref:l,className:"overflow-hidden py-3 px-2 md:px-4",children:s.jsx("div",{ref:t,className:i("flex","horizontal"===r?"":"flex-col",e),...a})})});p.displayName="CarouselContent";const h=e.forwardRef(({className:e,...a},t)=>{const{orientation:l}=m();return s.jsx("div",{ref:t,role:"group","aria-roledescription":"slide",className:i("min-w-0 shrink-0 grow-0 basis-full","horizontal"===l?"":"pt-4",e),...a})});h.displayName="CarouselItem";const f=e.forwardRef(({className:e,variant:a="outline",size:l="icon",...r},n)=>{const{orientation:c,scrollPrev:d,canScrollPrev:u,opts:p}=m();return s.jsxs(o,{ref:n,variant:a,size:l,className:i("absolute h-8 w-8 rounded-full","horizontal"===c?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!u&&!p?.loop,onClick:d,...r,children:[s.jsx(t,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});f.displayName="CarouselPrevious";const x=e.forwardRef(({className:e,variant:a="outline",size:t="icon",...r},n)=>{const{orientation:c,scrollNext:d,canScrollNext:u,opts:p}=m();return s.jsxs(o,{ref:n,variant:a,size:t,className:i("absolute h-8 w-8 rounded-full","horizontal"===c?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!u&&!p?.loop,onClick:d,...r,children:[s.jsx(l,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});x.displayName="CarouselNext";const w={hero:"100vw",card:"(max-width: 640px) 400px, (max-width: 1024px) 600px, 400px",avatar:"100px",team:"(max-width: 640px) 180px, 220px",thumbnail:"(max-width: 640px) 150px, 200px"},g=({basePath:e,usage:a,alt:t,fallbackSize:l="small",width:r,height:i,decoding:o="async",priority:n=!1,className:c,style:d,...m})=>{const u=e.replace(/(?:-(small|medium|large))?\.webp$/i,""),p=`${u}-small.webp 500w, ${u}-medium.webp 800w`,h=`${u}-small.webp`,f=w[a],x=n?"eager":"lazy",g=n?"high":"auto";return s.jsx("img",{src:h,srcSet:p,sizes:f,alt:t,loading:x,decoding:o,fetchPriority:g,width:r,height:i,className:c,style:d,...m})},v=({items:e,color:a="#9B59B6",height:t="",imageAspect:l="4 / 3",showDescription:i=!0,className:o,imageClassName:d})=>{const[m,w]=r.useState(null),[v,N]=r.useState(0),[y,b]=r.useState(!1),j=r.useRef(new Set([0,1,2])),S="undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(max-width: 640px)").matches,C=S?"-small.webp":"-medium.webp",k=e.slice(0,3).map(e=>`${(e.image||"").replace(/-(small|medium|large)\.webp$/i,"")}${C}`),{loaded:z}=n(k,{priority:"high",timeout:8e3});r.useEffect(()=>{if(!m||!z)return;const a=()=>{const a=m.selectedScrollSnap(),s=e.length,t=new Set;for(let e=-2;e<=2;e++){const l=(a+e+s)%s;t.add(l)}t.forEach(a=>{if(!j.current.has(a)){j.current.add(a);const s=e[a];if(s){const e=s.image.replace(/-medium\.webp$/i,""),a=["-small.webp"];!S&&("undefined"!=typeof window&&window.devicePixelRatio>1||"undefined"!=typeof window&&window.innerWidth>=768)&&a.push("-medium.webp"),a.forEach(a=>{(new Image).src=`${e}${a}`})}}})};return a(),m.on("select",a),()=>{m.off("select",a)}},[m,e,z,S]),r.useEffect(()=>{if(!m)return;const e=()=>N(m.selectedScrollSnap());return e(),m.on("select",e),m.on("reInit",e),()=>{m.off("select",e),m.off("reInit",e)}},[m]),r.useEffect(()=>{if(m)try{m.reInit()}catch(e){}},[m,e.length]),r.useEffect(()=>{if(!m)return;if("undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const e=setInterval(()=>{if(!(y||"undefined"!=typeof document&&document.hidden))try{m.canScrollNext()&&m.scrollNext()}catch{}},4e3);return()=>clearInterval(e)},[m,y]);const P=t?"number"==typeof t?`${t}px`:t:"",E=d||"w-full h-full object-cover";return r.useEffect(()=>{if(!m)return;let e=null;const a=()=>{e&&window.clearTimeout(e),e=window.setTimeout(()=>{try{m.reInit()}catch(e){}},150)};return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),e&&window.clearTimeout(e)}},[m]),z?s.jsxs("div",{onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),className:o||"w-full max-w-[1800px] mx-auto px-4 md:px-8",children:[s.jsxs(u,{opts:{align:"center",loop:!0,containScroll:"keepSnaps",slidesToScroll:1},setApi:w,className:"w-full",children:[s.jsx(p,{className:"gap-x-4",children:e.map((e,t)=>s.jsx(h,{className:"px-2 md:px-4 basis-[66%] sm:basis-[66%] md:basis-[50%] lg:basis-[33.333%] xl:basis-[25%] 2xl:basis-[20%] min-w-[280px] md:min-w-[320px] max-w-[520px]",children:s.jsxs(c,{style:{borderColor:a},className:"bg-white/90 border-2 shadow-soft md:hover:shadow-medium md:hover:scale-[1.02] transition-all duration-300 overflow-hidden group h-full will-change-transform",children:[s.jsx("div",{className:"relative bg-gray-100",style:P?{height:P}:{aspectRatio:l},children:s.jsx(g,{basePath:e.image,alt:e.title,usage:"card",priority:t<2,fallbackSize:"small",decoding:"async",className:E,style:P?{height:"100%",maxHeight:P,minHeight:P}:{height:"100%"},width:1200,height:900})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h4",{className:"text-[clamp(1rem,1.4vw,1.125rem)] md:text-[clamp(1.05rem,1.2vw,1.25rem)] font-raleway font-semibold mb-3 leading-snug break-normal whitespace-normal",style:{color:a,hyphens:"none",overflowWrap:"normal",wordBreak:"normal"},children:e.title}),i&&e.description&&s.jsx("p",{className:"text-[clamp(0.92rem,1.2vw,1rem)] font-inter text-gray-700 leading-relaxed text-left break-normal whitespace-normal",style:{hyphens:"none",overflowWrap:"normal",wordBreak:"normal"},children:e.description})]})]})},t))}),s.jsx(f,{className:"hidden md:flex -left-10 lg:-left-12"}),s.jsx(x,{className:"hidden md:flex -right-10 lg:-right-12"})]}),s.jsx("div",{className:"flex items-center justify-center mt-4 space-x-2",children:e.map((e,t)=>s.jsx("button",{onClick:()=>m&&m.scrollTo(t),"aria-label":`Go to slide ${t+1}`,"aria-current":v===t,className:"h-2 w-6 md:w-8 rounded-full transition-all "+(v===t?"scale-110":"bg-gray-300"),style:{backgroundColor:v===t?a:void 0}},t))})]}):s.jsx("div",{className:o||"w-full max-w-[1800px] mx-auto px-4 md:px-8",children:s.jsx("div",{className:"w-full flex items-center justify-center",style:{minHeight:P||"18rem"},children:s.jsx("div",{className:"animate-pulse flex space-x-4",children:s.jsxs("div",{className:"flex-1 space-y-4 py-1",children:[s.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-300 rounded"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-5/6"})]})]})})})})};export{v as default};
