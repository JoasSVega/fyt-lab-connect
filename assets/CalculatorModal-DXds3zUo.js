const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Latex--MhQumO_.js","assets/index-eCbQMLVC.js","assets/vendor-FmD0ChZn.js","assets/radix-ByoYm48K.js","assets/carousel-CHkIgb8Q.js","assets/motion-BkzvJ6t2.js","assets/index-r-nJWECh.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./index-eCbQMLVC.js";import{eh as t,j as l,fv as a,d$ as n,eR as s}from"./vendor-FmD0ChZn.js";import{AnimatePresence as i,motion as r,MotionConfig as o}from"./motion-BkzvJ6t2.js";function c(e,t,l){if(!t||!l)return e;const a=t.find(e=>e.id===l);return a?.fields&&a.fields.length>0?a.fields:e}const d=t.lazy(()=>e(()=>import("./Latex--MhQumO_.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),u=e=>{switch(e){case"green":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"yellow":return"bg-amber-50 text-amber-700 border-amber-200";case"red":return"bg-rose-50 text-rose-700 border-rose-200";default:return"bg-slate-50 text-slate-800 border-slate-200"}},m=({id:e,title:a,subtitle:n,icon:s,fields:i,formulas:r,onCalculate:o,categoryColor:d="#0ea5e9",open:u,onOpenChange:m,autoCalculate:p=!1,actionVisibility:x="default",openButtonLabel:b="Abrir Calculadora",backAction:h="volver",enableCalculatePredicate:v})=>{const y="boolean"==typeof u&&!!m,[g,j]=t.useState(!1),N=y?u:g,[w,k]=t.useState(()=>({})),[C,S]=t.useState(()=>r?.[0]?.id),[E,R]=t.useState(null),[F,$]=t.useState(!1),[I,T]=t.useState(""),[L,V]=t.useState(!1),[P,A]=t.useState(0),z=t.useRef(null),O=t.useRef(!1),W=t.useCallback(e=>e.replace(",","."),[]),B=t.useCallback(e=>{const t=c(i,r,C);for(const l of t){const t=e[l.name];if(l.validation?.required&&(void 0===t||""===t))return`Complete el campo: ${l.label}`;if("number"===l.type){const e=Number(t);if(""!==t&&Number.isFinite(e)){if(void 0!==l.validation?.min&&e<l.validation.min)return`${l.label}: valor mínimo ${l.validation.min}`;if(void 0!==l.validation?.max&&e>l.validation.max)return`${l.label}: valor máximo ${l.validation.max}`}}}return null},[i,r,C]);t.useEffect(()=>{N&&(k({}),R(null),$(!1),T(""),A(e=>e+1))},[N]);const H=()=>{y?m?.(!1):j(!1)},_=(e,t)=>{k(l=>l[e]===t?l:{...l,[e]:t})},q=()=>{k({}),R(null),$(!1),T(""),A(e=>e+1)},M=()=>{T("");const e={...w},t=c(i,r,C);{const t=B(e);if(t)return void T(t)}const l={...e};for(const s of t)if("number"===s.type){const t=e[s.name];if(void 0===t||""===t)continue;const a="string"==typeof t?W(t):String(t),n=Number(a);l[s.name]=Number.isFinite(n)?n:t}let a=null;const n=C;if(n&&r?.length){const e=r.find(e=>e.id===n);if(!e||!e.compute)return void T("Fórmula no disponible");a=e.compute(l)}else{if(!o)return void T("No hay lógica de cálculo definida");a=o(l,n)}R(a),F||$(!0)},U=()=>{F&&($(!1),O.current=!0)},Y=()=>{O.current&&!F&&(O.current=!1,R(null),setTimeout(()=>z.current?.focus?.(),10))},D=t.useMemo(()=>c(i,r,C),[i,r,C]);return t.useEffect(()=>{k(e=>({})),T(""),R(null),$(!1),setTimeout(()=>{z.current?.focus?.()},50),A(e=>e+1)},[D]),y?l.jsx(f,{id:e,open:N,onClose:H,title:a,subtitle:n,icon:s,fields:D,values:w,onInput:_,formulas:r,selectedFormula:C,onSelectFormula:S,onCalculate:M,onClear:q,onReturn:U,result:E,flipped:F,error:I,categoryColor:d,infoOpen:L,setInfoOpen:V,firstInputRef:z,autoCalculate:p,actionVisibility:x,backAction:h,resetTick:P,onFlipAnimationComplete:Y,enableCalculatePredicate:v}):l.jsxs("div",{children:[l.jsx("button",{onClick:()=>{y||j(!0)},className:"px-4 py-2 rounded-md text-white font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2",style:{backgroundColor:d},children:b}),l.jsx(f,{id:e,open:g,onClose:H,title:a,subtitle:n,icon:s,fields:D,values:w,onInput:_,formulas:r,selectedFormula:C,onSelectFormula:S,onCalculate:M,onClear:q,onReturn:U,result:E,flipped:F,error:I,categoryColor:d,infoOpen:L,setInfoOpen:V,firstInputRef:z,autoCalculate:p,actionVisibility:x,backAction:h,resetTick:P,onFlipAnimationComplete:Y,enableCalculatePredicate:v})]})},f=({id:e,open:c,onClose:m,title:f,subtitle:x,icon:b,fields:h,values:v,onInput:y,formulas:g,selectedFormula:j,onSelectFormula:N,onCalculate:w,onClear:k,onReturn:C,result:S,flipped:E,error:R,categoryColor:F,infoOpen:$,setInfoOpen:I,firstInputRef:T,autoCalculate:L=!1,actionVisibility:V="default",backAction:P="volver",resetTick:A,onFlipAnimationComplete:z,enableCalculatePredicate:O})=>{const W=void 0!==import.meta&&!1;t.useCallback(e=>e.replace(",","."),[]);const B=t.useCallback(e=>{for(const t of h){const l=e[t.name];if(t.validation?.required&&(void 0===l||""===l))return`Complete el campo: ${t.label}`;if("number"===t.type){const e=Number(l);if(""!==l&&Number.isFinite(e)){if(void 0!==t.validation?.min&&e<t.validation.min)return`${t.label}: valor mínimo ${t.validation.min}`;if(void 0!==t.validation?.max&&e>t.validation.max)return`${t.label}: valor máximo ${t.validation.max}`}}}return null},[h]),H=t.useMemo(()=>null===B(v),[v,B]),_=t.useRef(null),q=t.useRef(null),M=t.useRef(null),U=t.useRef(null),Y=t.useRef(0),D=t.useCallback(()=>{const e=q.current;e&&(Y.current=e.scrollTop)},[]),G=t.useRef(null),J=t.useRef(null),K=t.useRef(null),Q=t.useRef(null),X=t.useRef(!1),Z=t.useRef(E);t.useEffect(()=>{Z.current!==E&&(X.current=!0),Z.current=E},[E]);const[ee,te]=t.useState(void 0),[le,ae]=t.useState(!1),ne=t.useRef(null),se=t.useRef(!1),[ie,re]=t.useState(0),[oe,ce]=t.useState(!1),de=t.useCallback((e,t)=>{G.current=e,J.current=t},[]),ue=t.useCallback(()=>{if(!c)return;if(X.current)return;const e=window.innerHeight||0,t=_.current?.getBoundingClientRect().height||0,l=K.current?.scrollHeight||0,a=Q.current?.scrollHeight||0,n=M.current?.scrollHeight||0,s=Math.max(.9*e-t-16,0),i=Math.max(l,a);te(e=>{const t=i||void 0;return void 0===e&&void 0===t||"number"==typeof e&&"number"==typeof t&&Math.abs(e-t)<1?e:t}),ae((i||n)>s),q.current&&(q.current.style.maxHeight=`${s}px`)},[c]);t.useLayoutEffect(()=>{ue()},[ue,E,h,j,$]),t.useEffect(()=>{const e=()=>ue();return c&&window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[c,ue]),t.useEffect(()=>{if(!c)return;const e=q.current;return e?(e.style.setProperty("overflow-anchor","none"),()=>{try{e.style.removeProperty("overflow-anchor")}catch{}}):void 0},[c]),t.useEffect(()=>{if(!c)return;const e=q.current;if(!e)return;const t=Y.current;requestAnimationFrame(()=>{e&&e.scrollTop!==t&&(e.scrollTop=t)})},[c,v]),t.useEffect(()=>{},[c,L,h,e,y]),t.useEffect(()=>{if(!c)return;const e=G.current;if(!e)return;const t=document.getElementById(e);if(t&&document.activeElement!==t){t.focus({preventScroll:!0});const e=t,l=J.current;null!=l&&"function"==typeof e.setSelectionRange&&requestAnimationFrame(()=>{try{e.setSelectionRange(l,l)}catch{}})}},[c,v]),t.useEffect(()=>{const e=e=>{"Escape"===e.key&&m()};return c&&window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[c,m]),t.useEffect(()=>{if(c)return ne.current=document.body.style.overflow,document.body.style.overflow="hidden",document.body.classList.add("modal-open"),se.current=!1,()=>{document.body.style.overflow=ne.current||"",document.body.classList.remove("modal-open")}},[c]),t.useEffect(()=>{if(!c||!L)return;const e=e=>v[e.name];for(const t of h){const l=e(t);if(t.validation?.required&&(void 0===l||""===l))return;if("number"===t.type){const e=Number(l);if(!Number.isFinite(e))return;if(void 0!==t.validation?.min&&e<t.validation.min)return;if(void 0!==t.validation?.max&&e>t.validation.max)return}}w()},[L,h,v,c,j,ie]);const me=({children:e})=>"undefined"==typeof document?null:s.createPortal(e,document.body),fe="undefined"!=typeof window&&window.innerWidth<=600;return l.jsx(me,{children:l.jsxs("div",{className:"fixed inset-0 z-[999] p-4 "+(c?"pointer-events-auto":"pointer-events-none"),children:[l.jsx("div",{className:"calc-overlay absolute inset-0 transition-[opacity,backdrop-filter] duration-300 ease-in-out "+(c?"opacity-100":"opacity-0"),style:{backgroundColor:c?"rgba(0,0,0,0.4)":"rgba(0,0,0,0)",backdropFilter:c?"blur(10px)":"blur(0px)"},onClick:c?m:void 0,"aria-hidden":!c}),l.jsx(i,{children:c&&l.jsxs(r.div,{className:"absolute inset-0 flex items-center justify-center",initial:!se.current&&{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25,ease:"easeInOut"},children:[l.jsx(r.div,{className:"relative z-[999] w-[94vw] sm:w-[85vw] md:w-[70vw] lg:w-[60vw] xl:w-[50vw] max-h-[90vh]",initial:!se.current&&{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:"easeInOut"},onAnimationComplete:()=>{se.current||(se.current=!0)},onClick:e=>e.stopPropagation(),ref:U,children:l.jsxs("div",{className:"relative rounded-2xl bg-white shadow-xl ring-1 ring-black/5 flex flex-col max-h-[90vh] overflow-hidden calc-modal-card",children:[l.jsxs("div",{ref:_,className:"calc-header-desktop sticky top-0 z-10 px-5 py-4 border-b flex items-start justify-between bg-white/95 backdrop-blur",style:{background:`linear-gradient(to right, ${F}15, #ffffffEE)`},"aria-hidden":fe||void 0,children:[l.jsxs("div",{className:"min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[b?l.jsx("span",{"aria-hidden":!0,className:"inline-flex items-center justify-center",children:b}):null,l.jsx("h2",{id:`${e}-title`,className:"flex-1 text-xl sm:text-2xl font-raleway font-bold text-black break-words whitespace-normal leading-snug min-w-0",style:{hyphens:"none"},children:f})]}),x?l.jsx("p",{id:`${e}-subtitle`,className:"text-sm text-slate-600 break-words whitespace-normal",style:{hyphens:"none"},children:x}):null]}),l.jsxs("div",{className:"flex items-center gap-2",children:[g&&g.length>0?l.jsx("div",{className:"relative",children:l.jsx("select",{"aria-label":"Seleccionar fórmula",className:"text-sm border rounded-md px-2 py-1",value:j,onChange:e=>N(e.target.value),children:g.map(e=>l.jsx("option",{value:e.id,children:e.label},e.id))})}):null,!!g?.length&&l.jsx("button",{type:"button","aria-label":"Ver fórmulas",className:"inline-flex h-10 w-10 items-center justify-center rounded-lg hover:bg-slate-100 touch-manipulation",onClick:()=>I(!0),title:"Ver fórmulas","aria-hidden":fe||void 0,children:l.jsx(a,{className:"w-5 h-5 text-slate-600"})}),l.jsx("button",{onClick:m,"aria-label":"Cerrar",className:"inline-flex h-10 w-10 items-center justify-center rounded-lg hover:bg-slate-100 touch-manipulation",children:l.jsx(n,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"calc-header-mobile hidden sticky top-0 z-10 px-4 pt-4 pb-3 border-b bg-white/95 backdrop-blur relative",style:{background:`linear-gradient(to right, ${F}15, #ffffffEE)`},"aria-hidden":!fe||void 0,children:[b?l.jsx("span",{"aria-hidden":!0,className:"inline-flex items-center justify-center w-10 h-10 rounded-lg mb-2",style:{minWidth:"40px"},children:b}):l.jsx("div",{className:"h-8 mb-2"}),l.jsx("button",{onClick:m,"aria-label":"Cerrar",className:"absolute top-2 right-2 inline-flex h-11 w-11 items-center justify-center rounded-lg hover:bg-slate-100 touch-manipulation shadow-sm bg-white/90 backdrop-blur-sm pointer-events-auto",style:{zIndex:20},children:l.jsx(n,{className:"w-6 h-6"})}),g&&g.length>0&&l.jsxs("div",{className:"mb-2 relative",children:[l.jsx("select",{"aria-label":"Seleccionar fórmula (móvil)",className:"block w-full text-sm border rounded-md px-2 py-2 min-h-[44px] pr-14",value:j,onChange:e=>N(e.target.value),children:g.map(e=>l.jsx("option",{value:e.id,children:e.label},e.id))}),l.jsx("button",{type:"button","aria-label":"Ver fórmulas (móvil)",className:"absolute top-1/2 -translate-y-1/2 right-1 inline-flex h-11 w-11 items-center justify-center rounded-md border border-slate-200 bg-white/95 hover:bg-slate-100 touch-manipulation pointer-events-auto",onClick:()=>I(!0),title:"Ver fórmulas",style:{zIndex:20},"aria-hidden":!fe||void 0,children:l.jsx(a,{className:"w-6 h-6 text-slate-600"})})]}),l.jsx("h2",{id:`${e}-title-mobile`,className:"text-lg font-raleway font-bold text-black leading-snug mb-1 break-words whitespace-normal",style:{wordBreak:"break-word",overflowWrap:"break-word",hyphens:"none",minHeight:"24px"},children:f}),x?l.jsx("p",{id:`${e}-subtitle-mobile`,className:"text-sm text-slate-600 leading-relaxed",style:{hyphens:"none"},children:x}):null]}),l.jsx("style",{children:"\n                @media (max-width:600px){\n                  .calc-header-desktop { display:none; }\n                  .calc-header-mobile { display:block; }\n                }\n                @media (max-width:350px){\n                  .calc-header-mobile h2 { font-size:15px; }\n                  .calc-header-mobile select { font-size:13px; }\n                }\n              "}),l.jsx("div",{ref:q,"data-testid":"calc-modal-body",className:"relative p-5 flex-1 min-h-0 overflow-y-auto overflow-x-hidden calc-modal-body overscroll-contain",children:l.jsx("div",{ref:M,children:l.jsx("div",{className:"relative w-full perspective-1200",style:{perspective:"1200px",WebkitPerspective:"1200px"},children:l.jsx(o,{reducedMotion:"never",children:l.jsxs(r.div,{initial:!1,className:"relative w-full preserve-3d flip-root "+(E?"is-flipped":""),style:{height:ee?`${ee}px`:void 0,transformStyle:"preserve-3d",WebkitTransformStyle:"preserve-3d",willChange:"transform",transformPerspective:1200},animate:{rotateY:E?180:0},transition:{duration:.6,ease:"easeInOut"},onAnimationStart:()=>{X.current=!0},onAnimationComplete:()=>{X.current=!1,E||z?.()},children:[l.jsx("div",{ref:K,className:"absolute inset-0 backface-hidden preserve-3d",style:{pointerEvents:E?"none":"auto",transformStyle:"preserve-3d",WebkitTransformStyle:"preserve-3d",backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",transform:"rotateY(0deg)"},"aria-hidden":E,children:l.jsxs("form",{noValidate:!0,className:"grid grid-cols-1 md:grid-cols-2 gap-4",onSubmit:e=>{e.preventDefault(),w()},onFocusCapture:e=>{const t=e.target;if(t&&("INPUT"===t.tagName||"SELECT"===t.tagName||"true"===t.getAttribute("contenteditable"))&&(D(),G.current=t.id||null,"INPUT"===t.tagName)){const e=t;J.current="number"==typeof e.selectionStart?e.selectionStart:null}},children:[h.map((t,a)=>l.jsx(p,{field:t,modalId:e,value:v[t.name],onValueChange:y,isTestEnv:W,autoCalculate:L,setInputTick:re,firstRef:0===a?T:void 0,error:R,recordCaret:de,captureBodyScrollTop:D},t.name)),R&&l.jsx("div",{className:"md:col-span-2 text-sm text-rose-600",children:R}),"hidden"!==V&&l.jsxs("div",{className:"md:col-span-2 mt-2 flex items-center gap-3",children:["default"===V&&(()=>{if(void 0!==O?O(v):H)return l.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-white font-semibold",style:{backgroundColor:F},children:"Calcular"});const e=B(v)||"Complete los campos requeridos";return l.jsx("button",{type:"button",onClick:()=>w(),className:"px-4 py-2 rounded-md text-white font-semibold opacity-50 cursor-not-allowed",style:{backgroundColor:F},"aria-disabled":!0,title:e,children:"Calcular"})})(),l.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 rounded-md border",children:"Limpiar"})]})]})}),l.jsxs("div",{ref:Q,className:"absolute inset-0 backface-hidden preserve-3d rotate-y-180",style:{pointerEvents:E?"auto":"none",transformStyle:"preserve-3d",WebkitTransformStyle:"preserve-3d",backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",transform:"rotateY(180deg)"},"aria-hidden":!E,children:[l.jsx("div",{className:`rounded-xl border p-6 text-center ${u(S?.severity)}`,children:S?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-sm uppercase tracking-wide opacity-70 mb-1",children:"Resultado"}),l.jsxs("div",{className:"text-3xl font-mono font-bold",children:["number"==typeof S.value?S.value.toString():S.value,S.unit?l.jsx("span",{className:"ml-1 text-base font-sans",children:S.unit}):null]}),S.interpretation?l.jsx("div",{className:"mt-2 text-base font-semibold",children:S.interpretation}):null,S.detailsHtml?l.jsx("div",{className:"mt-3 text-sm leading-relaxed",children:S.detailsHtml}):null]}):l.jsx("div",{className:"text-slate-600",children:"Complete los campos y presione Calcular."})}),l.jsx("div",{className:"mt-4 flex justify-center",children:"volver"===P?l.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 rounded-md border",children:"Volver"}):l.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 rounded-md border",children:"Limpiar"})})]})]})})})})})]})}),$&&l.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40",style:{backdropFilter:"blur(10px)"},onClick:()=>I(!1)}),l.jsxs("div",{className:"relative z-10 w-[90vw] max-w-[600px] max-h-[85vh] overflow-y-auto rounded-2xl bg-white shadow-lg ring-1 ring-slate-200 p-5",children:[l.jsx("button",{onClick:()=>I(!1),"aria-label":"Cerrar",className:"absolute top-3 right-3 inline-flex h-10 w-10 items-center justify-center rounded-md hover:bg-slate-100 bg-white/90 shadow-sm",style:{zIndex:10},children:l.jsx(n,{className:"w-5 h-5"})}),l.jsx("div",{className:"flex items-start justify-between mb-2 pr-10",children:l.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:"Fórmulas"})}),l.jsx("div",{className:"space-y-3",children:g&&g.length>0?g.map((e,a)=>{const n=function(e){if(e.expressionLatex)return e.expressionLatex;if(e.formulaLatex)return e.formulaLatex;const t=e.expressionText||e.description;return t?function(e){const t=e.replace(/\\/g,"\\\\").replace(/([{}_#%&$])/g,"\\$1").replace(/\n/g," ");return String.raw`\text{${t}}`}(t):null}(e),s=!!e.scoring&&e.scoring.rows?.length;return l.jsxs("div",{"data-testid":`formula-item-${a+1}`,className:"rounded-xl bg-slate-50 p-3",children:[l.jsxs("div",{className:"text-sm font-semibold text-slate-800",children:[a+1,". ",e.label]}),n?l.jsx("div",{className:"mt-1 overflow-x-auto","data-testid":"formula-latex",children:l.jsx(t.Suspense,{fallback:l.jsx("div",{className:"text-sm text-slate-500",children:"Cargando fórmulas…"}),children:l.jsx(d,{expression:n,display:!0,className:"block text-sky-700 dark:text-sky-300 text-base"})})}):null,s?l.jsxs("div",{className:"mt-2 space-y-2",children:[!n&&l.jsx("div",{"data-testid":"formula-latex",className:"overflow-x-auto",children:l.jsx(t.Suspense,{fallback:l.jsx("div",{className:"text-sm text-slate-500",children:"Cargando fórmulas…"}),children:l.jsx(d,{expression:String.raw`\\mathrm{Puntuaci\\'on}=\\sum_{i=1}^{n}\\text{Puntos}(i)`,display:!0,className:"block text-sky-700 dark:text-sky-300 text-base"})})}),l.jsx("div",{className:"space-y-2",children:e.scoring.rows.map((e,t)=>l.jsxs("div",{className:"rounded-lg bg-white border border-slate-200 p-2",children:[l.jsx("div",{className:"text-xs font-semibold text-slate-700",children:e.label}),l.jsx("ul",{className:"mt-1 space-y-1",children:e.options.map((e,t)=>l.jsxs("li",{className:"text-xs text-slate-600 flex items-start gap-2",children:[l.jsxs("span",{className:"inline-block min-w-12 rounded border border-slate-200 px-1 py-0.5 text-[11px] text-slate-700",children:[e.points," pt"]}),l.jsx("span",{className:"flex-1",children:e.label})]},t))})]},t))})]}):n?null:l.jsx("div",{className:"mt-1 text-xs italic text-slate-500",children:"Fórmula o sistema de puntuación no disponible"})]},e.id)}):l.jsx("div",{className:"text-sm text-slate-600",children:"No hay fórmulas disponibles."})})]})]})]})})]})})},p=t.memo(({field:e,modalId:t,value:a,onValueChange:n,isTestEnv:s,autoCalculate:i,setInputTick:r,firstRef:o,error:c,recordCaret:d,captureBodyScrollTop:u})=>{const m=`${t}-${e.name}`,f=e.label;return"number"===e.type?l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{htmlFor:m,className:"text-sm font-medium",children:f}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{id:m,name:e.name,type:"text",inputMode:"decimal",lang:"es-ES",className:"w-full rounded-md border px-3 py-2",placeholder:e.placeholder||"p. ej., 0","aria-label":f,onWheel:e=>{e.stopPropagation()},value:"number"==typeof a||"string"==typeof a?a:"",onChange:t=>{u();const l=t.target.value;d(m,"number"==typeof t.target.selectionStart?t.target.selectionStart:null),n(e.name,l),s&&i&&r(e=>e+1)},"aria-invalid":!(!c||void 0!==a&&""!==a||!e.validation?.required)||void 0,ref:o}),e.unit?l.jsx("span",{className:"text-sm text-slate-500",children:e.unit}):null]})]}):"text"===e.type?l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{htmlFor:m,className:"text-sm font-medium",children:f}),l.jsx("input",{id:m,name:e.name,type:"text",className:"w-full rounded-md border px-3 py-2",placeholder:e.placeholder,"aria-label":f,value:"string"==typeof a?a:"",onChange:t=>{u(),s&&r(e=>e+1),d(m,"number"==typeof t.target.selectionStart?t.target.selectionStart:null),n(e.name,t.target.value)},ref:o})]}):"select"===e.type?l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{htmlFor:m,className:"text-sm font-medium",children:f}),l.jsxs("select",{id:m,name:e.name,className:"w-full rounded-md border px-3 py-2","aria-label":f,value:"string"==typeof a?a:"",onChange:t=>{u(),s&&r(e=>e+1),n(e.name,t.target.value)},ref:o,children:[l.jsx("option",{value:"",disabled:!0,children:e.placeholder||"Seleccione..."}),(e.options||[]).map(e=>l.jsx("option",{value:e.value,children:e.label},e.value))]})]}):"toggle"===e.type?l.jsx("div",{className:"flex flex-col gap-1",children:l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("input",{id:m,name:e.name,type:"checkbox",checked:!!a,onChange:t=>{u(),n(e.name,t.target.checked)},"aria-label":f}),l.jsx("label",{htmlFor:m,className:"text-sm font-medium",children:f})]})}):null});p.displayName="FieldRow";export{m as C};
