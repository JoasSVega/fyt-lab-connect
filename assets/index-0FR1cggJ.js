var e,t,a,i,l,n,o,r,m,u,d,s,c,p,b,x,h,g,v,f,y,N,M,L=Object.freeze,S=Object.defineProperty,j=(e,t)=>L(S(e,"raw",{value:L(t||e.slice())}));import{j as F}from"./vendor-29DZ0te0.js";const C=e=>e/2.54;function I(e){return e<18.5?"Bajo peso":e<25?"Normal":e<30?"Sobrepeso":"Obesidad"}function q(e){return e<25&&e>=18.5?"green":e<30?"yellow":"red"}const w=e=>e/88.4;function k(e){return isFinite(e)?e>=90?"Normal (≥90)":e>=60?"Leve (60–89)":e>=30?"Moderada (30–59)":e>=15?"Severa (15–29)":"Falla renal (<15)":"—"}function P(e){if(isFinite(e))return e>=60?"green":e>=30?"yellow":"red"}const A=[{id:"ampicillin",name:"Ampicilina",vialStrengthMg:1e3,defaultReconstitutionMl:10,cautionMaxStockConcMgPerMl:100,recommendedInfusion:{volumeMl:100,timeMin:30,note:"Infundir en 30 min."}},{id:"cefotaxime",name:"Cefotaxima",vialStrengthMg:1e3,defaultReconstitutionMl:10,cautionMaxStockConcMgPerMl:100,recommendedInfusion:{volumeMl:100,timeMin:30,note:"Infundir en 30 min."}},{id:"ceftriaxone",name:"Ceftriaxona",vialStrengthMg:1e3,defaultReconstitutionMl:10,cautionMaxStockConcMgPerMl:100,recommendedInfusion:{volumeMl:100,timeMin:30,note:"Infundir en 30 min en SSN o DAD."}},{id:"meropenem",name:"Meropenem",vialStrengthMg:500,defaultReconstitutionMl:10,cautionMaxStockConcMgPerMl:50,recommendedInfusion:{volumeMl:100,timeMin:30,note:"Infundir en 30 min."}},{id:"piptazo",name:"Piperacilina/Tazobactam (4.5 g)",vialStrengthMg:4500,defaultReconstitutionMl:20,cautionMaxStockConcMgPerMl:225,recommendedInfusion:{volumeMl:100,timeMin:30,note:"Infundir en 30 min; considerar infusión extendida según protocolo."}},{id:"vancomycin",name:"Vancomicina",vialStrengthMg:500,defaultReconstitutionMl:10,cautionMaxStockConcMgPerMl:50,recommendedInfusion:{volumeMl:250,timeMin:90,note:"Evitar infusión rápida (síndrome del hombre rojo)."}}],D="green",T="yellow";function E(e,t){var a,i;const l=String(e.unit||("weight"===t?"mg/kg":"mg/m²")),n=Number(e.dosePer),o=null!=(a=e.frequency)?a:"",r=null!=(i=e.drug)?i:"",m=Number("weight"===t?e.weight:e.bsa);if(!n||!m)return{value:NaN,interpretation:"Ingrese parámetros válidos",severity:T};const u=n*m,d=l.startsWith("mg")?"mg":"µg";let s;("mg"===d?u:u/1e3)>1e4&&(s="Atención: dosis total supera 10,000 mg; verifique parámetros y unidades.");const c="".concat(m,"weight"===t?" kg":" m²"),p="Para un paciente de ".concat(c,", la dosis total de ").concat(r||"el fármaco"," (").concat(n," ").concat(l,") es de ").concat(u.toFixed(2)," ").concat(d).concat(o?" ".concat(o):"","."),b=F.jsxs("div",{className:"space-y-2 text-sm",children:[F.jsxs("div",{children:["Modo: ","weight"===t?"por peso (kg)":"por SC (m²)"]}),s&&F.jsx("div",{className:"text-amber-700",children:s})]});return{value:Number(u.toFixed(2)),unit:d,interpretation:p,detailsHtml:b,severity:s?T:D}}const B={act:{title:"ACT",subtitle:"Watson / Chumlea",color:"#16a34a",fields:[{name:"weight",label:"Peso",type:"number",unit:"kg",placeholder:"p. ej., 70",validation:{required:!0,min:20,max:300}},{name:"height",label:"Talla",type:"number",unit:"cm",placeholder:"p. ej., 170",validation:{required:!0,min:100,max:250}},{name:"age",label:"Edad",type:"number",unit:"años",placeholder:"p. ej., 40",validation:{required:!0,min:5,max:120}},{name:"sex",label:"Sexo",type:"select",options:[{value:"male",label:"Masculino"},{value:"female",label:"Femenino"}],placeholder:"Seleccionar",validation:{required:!0}}],formulas:[{id:"watson",label:"Watson",expressionLatex:String.raw(e||(e=j(["mathrm{ACT}_{\text{masculino}}=2.447-0.09516,\text{edad}+0.1074,\text{talla}+0.3362,\text{peso}\\ mathrm{ACT}_{\text{femenino}}=-2.097+0.1069,\text{talla}+0.2466,\text{peso}"],["\\mathrm{ACT}_{\\text{masculino}}=2.447-0.09516\\,\\text{edad}+0.1074\\,\\text{talla}+0.3362\\,\\text{peso}\\\\ \\mathrm{ACT}_{\\text{femenino}}=-2.097+0.1069\\,\\text{talla}+0.2466\\,\\text{peso}"]))),compute:function(e){const t=Number(e.weight),a=Number(e.height),i=Number(e.age),l=((e,t,a,i)=>"male"===e?2.447-.09156*i+.1074*a+.3362*t:.1069*a-2.097+.2466*t)(e.sex||"male",t,a,i);return{value:Number(l.toFixed(2)),unit:"L"}}},{id:"chumlea",label:"Chumlea",expressionLatex:String.raw(t||(t=j(["mathrm{ACT}_{\text{mujer}}=0.34454,\text{talla}+0.183809,\text{peso}-35.270121"],["\\mathrm{ACT}_{\\text{mujer}}=0.34454\\,\\text{talla}+0.183809\\,\\text{peso}-35.270121"]))),compute:function(e){const t=Number(e.weight),a=Number(e.height),i=(l=e.sex||"male",n=t,o=a,"male"===l?.3669*o+.1833*n-35.27:.3561*o+.1833*n-33.947);var l,n,o;return{value:Number(i.toFixed(2)),unit:"L"}}}]},bmi:{title:"IMC",subtitle:"Índice de masa corporal (kg/m²)",color:"#0ea5e9",fields:[{name:"weight",label:"Peso",type:"number",unit:"kg",placeholder:"p. ej., 72",validation:{required:!0,min:20,max:300}},{name:"height",label:"Talla",type:"number",unit:"cm",placeholder:"p. ej., 170",validation:{required:!0,min:100,max:250}}],formulas:[{id:"bmi",label:"IMC",description:"IMC = peso / (talla[m])²",expressionLatex:String.raw(a||(a=j(["mathrm{IMC}=\frac{\text{peso}}{(\tfrac{\text{talla}}{100})^{2}}"],["\\mathrm{IMC}=\\frac{\\text{peso}}{(\\tfrac{\\text{talla}}{100})^{2}}"]))),compute:function(e){const t=((e,t)=>{const a=t/100;return e/(a*a)})(Number(e.weight),Number(e.height));return{value:Number(t.toFixed(2)),unit:"kg/m²",interpretation:I(t),severity:q(t)}}}]},bmr:{title:"CEB",subtitle:"Consumo energético basal",color:"#f97316",fields:[{name:"weight",label:"Peso",type:"number",unit:"kg",placeholder:"p. ej., 70",validation:{required:!0,min:20,max:300}},{name:"height",label:"Talla",type:"number",unit:"cm",placeholder:"p. ej., 175",validation:{required:!0,min:100,max:250}},{name:"age",label:"Edad",type:"number",unit:"años",placeholder:"p. ej., 40",validation:{required:!0,min:5,max:120}},{name:"sex",label:"Sexo",type:"select",options:[{value:"male",label:"Masculino"},{value:"female",label:"Femenino"}],placeholder:"Seleccionar",validation:{required:!0}}],formulas:[{id:"mifflin",label:"Mifflin–St Jeor",description:"kcal/día",expressionLatex:String.raw(i||(i=j(["mathrm{CEB}=10,\text{peso}+6.25,\text{talla}-5,\text{edad}+\betaquad (\beta=5;\text{masculino},;-161;\text{femenino})"],["\\mathrm{CEB}=10\\,\\text{peso}+6.25\\,\\text{talla}-5\\,\\text{edad}+\\beta\\quad (\\beta=5\\;\\text{masculino},\\;-161\\;\\text{femenino})"]))),compute:function(e){const t=Number(e.weight),a=Number(e.height),i=Number(e.age),l=((e,t,a,i)=>{let l=10*t+6.25*a-5*i;return l+="male"===e?5:-161,l})(e.sex||"male",t,a,i);return{value:Math.round(l),unit:"kcal/día"}}},{id:"harris",label:"Harris–Benedict",description:"kcal/día",expressionLatex:String.raw(l||(l=j(["mathrm{CEB}=alpha+13.75,\text{peso}+5.003,\text{talla}-6.755,\text{edad}; (alpha=66.5;\text{masculino})\\ mathrm{CEB}=alpha+9.563,\text{peso}+1.850,\text{talla}-4.676,\text{edad}; (alpha=655.1;\text{femenino})"],["\\mathrm{CEB}=\\alpha+13.75\\,\\text{peso}+5.003\\,\\text{talla}-6.755\\,\\text{edad}\\; (\\alpha=66.5\\;\\text{masculino})\\\\ \\mathrm{CEB}=\\alpha+9.563\\,\\text{peso}+1.850\\,\\text{talla}-4.676\\,\\text{edad}\\; (\\alpha=655.1\\;\\text{femenino})"]))),compute:function(e){const t=Number(e.weight),a=Number(e.height),i=Number(e.age),l=((e,t,a,i)=>"male"===e?66.5+13.75*t+5.003*a-6.755*i:655.1+9.563*t+1.85*a-4.676*i)(e.sex||"male",t,a,i);return{value:Math.round(l),unit:"kcal/día"}}}]},bodyFat:{title:"%GC",subtitle:"Deurenberg (1991)",color:"#a855f7",fields:[{name:"weight",label:"Peso",type:"number",unit:"kg",placeholder:"p. ej., 72",validation:{required:!0,min:20,max:300}},{name:"height",label:"Talla",type:"number",unit:"cm",placeholder:"p. ej., 170",validation:{required:!0,min:100,max:250}},{name:"age",label:"Edad",type:"number",unit:"años",placeholder:"p. ej., 40",validation:{required:!0,min:5,max:120}},{name:"sex",label:"Sexo",type:"select",options:[{value:"male",label:"Masculino"},{value:"female",label:"Femenino"}],placeholder:"Seleccionar",validation:{required:!0}}],formulas:[{id:"deurenberg",label:"Deurenberg",description:"% Grasa corporal",expressionLatex:String.raw(n||(n=j(["%,mathrm{Grasa}=1.2\times mathrm{IMC}+0.23\times \text{edad}-10.8\times [\text{masculino}]-5.4\\\text{donde }[\text{masculino}]=1,;[\text{femenino}]=0"],["\\%\\,\\mathrm{Grasa}=1.2\\times \\mathrm{IMC}+0.23\\times \\text{edad}-10.8\\times [\\text{masculino}]-5.4\\\\\\text{donde }[\\text{masculino}]=1,\\;[\\text{femenino}]=0"]))),compute:function(e){const t=Number(e.weight),a=Number(e.height),i=Number(e.age),l=e.sex||"male",n=a/100,o=t/(n*n)*1.2+.23*i-10.8*("male"===l?1:0)-5.4,r="male"===l?o<6?{text:"Muy bajo (riesgo)",severity:"red"}:o<14?{text:"Atleta",severity:"green"}:o<18?{text:"Fitness",severity:"green"}:o<25?{text:"Promedio",severity:"yellow"}:{text:"Obesidad",severity:"red"}:o<14?{text:"Muy bajo (riesgo)",severity:"red"}:o<21?{text:"Atleta",severity:"green"}:o<25?{text:"Fitness",severity:"green"}:o<32?{text:"Promedio",severity:"yellow"}:{text:"Obesidad",severity:"red"};return{value:Number(o.toFixed(1)),unit:"%",interpretation:r.text,severity:r.severity}}}]},bsa:{title:"SC",subtitle:"DuBois & DuBois (m²)",color:"#10b981",fields:[{name:"weight",label:"Peso",type:"number",unit:"kg",placeholder:"p. ej., 70",validation:{required:!0,min:20,max:300}},{name:"height",label:"Talla",type:"number",unit:"cm",placeholder:"p. ej., 170",validation:{required:!0,min:100,max:250}}],formulas:[{id:"dubois",label:"DuBois",description:"BSA = 0.007184 × peso^0.425 × talla^0.725",expressionLatex:String.raw(o||(o=j(["mathrm{SC}=0.007184\times \text{peso}^{0.425}\times \text{talla}^{0.725}"],["\\mathrm{SC}=0.007184\\times \\text{peso}^{0.425}\\times \\text{talla}^{0.725}"]))),compute:function(e){const t=(a=Number(e.weight),i=Number(e.height),.007184*Math.pow(a,.425)*Math.pow(i,.725));var a,i;return{value:Number(t.toFixed(3)),unit:"m²"}}}]},dose:{title:"Dosis por peso y SC",subtitle:"mg/kg · µg/kg · mg/m² · µg/m²",color:"#0EA5E9",fields:[{name:"weight",label:"Peso",type:"number",unit:"kg",placeholder:"p. ej., 70",validation:{min:1}},{name:"bsa",label:"Superficie corporal",type:"number",unit:"m²",placeholder:"p. ej., 1.8",validation:{min:0}},{name:"dosePer",label:"Dosis recomendada",type:"number",placeholder:"p. ej., 15"},{name:"unit",label:"Unidad",type:"select",options:[{value:"mg/kg",label:"mg/kg"},{value:"µg/kg",label:"µg/kg"},{value:"mg/m²",label:"mg/m²"},{value:"µg/m²",label:"µg/m²"}],placeholder:"Seleccionar"},{name:"frequency",label:"Frecuencia / intervalo (opcional)",type:"text",placeholder:"p. ej., cada 8 h"},{name:"drug",label:"Nombre del fármaco (opcional)",type:"text",placeholder:"p. ej., amikacina"}],formulas:[{id:"perWeight",label:"Por peso (kg)",description:"Dosis total por peso",expressionLatex:String.raw(r||(r=j(["\text{Dosis}=\text{Peso}\times \text{Dosis}_{\text{por kg}}"],["\\text{Dosis}=\\text{Peso}\\times \\text{Dosis}_{\\text{por kg}}"]))),compute:e=>E(e,"weight"),fields:[{name:"weight",label:"Peso",type:"number",unit:"kg",placeholder:"p. ej., 70",validation:{min:1}},{name:"dosePer",label:"Dosis recomendada",type:"number",placeholder:"p. ej., 15"},{name:"unit",label:"Unidad",type:"select",options:[{value:"mg/kg",label:"mg/kg"},{value:"µg/kg",label:"µg/kg"}],placeholder:"Seleccionar"},{name:"frequency",label:"Frecuencia / intervalo (opcional)",type:"text",placeholder:"p. ej., cada 8 h"},{name:"drug",label:"Nombre del fármaco (opcional)",type:"text",placeholder:"p. ej., amikacina"}]},{id:"perBSA",label:"Por SC (m²)",description:"Dosis total por superficie corporal",expressionLatex:String.raw(m||(m=j(["\text{Dosis}=\text{SC}\times \text{Dosis}_{\text{por m}^2}"],["\\text{Dosis}=\\text{SC}\\times \\text{Dosis}_{\\text{por m}^2}"]))),compute:e=>E(e,"bsa"),fields:[{name:"bsa",label:"Superficie corporal",type:"number",unit:"m²",placeholder:"p. ej., 1.8",validation:{min:0}},{name:"dosePer",label:"Dosis recomendada",type:"number",placeholder:"p. ej., 15"},{name:"unit",label:"Unidad",type:"select",options:[{value:"mg/m²",label:"mg/m²"},{value:"µg/m²",label:"µg/m²"}],placeholder:"Seleccionar"},{name:"frequency",label:"Frecuencia / intervalo (opcional)",type:"text",placeholder:"p. ej., cada 8 h"},{name:"drug",label:"Nombre del fármaco (opcional)",type:"text",placeholder:"p. ej., amikacina"}]}]},hepatic:{title:"Función hepática",subtitle:"Child‑Pugh / MELD / APRI / FIB‑4",color:"#F59E0B",fields:[{name:"bili",label:"Bilirrubina total",type:"number",unit:"mg/dL o µmol/L",placeholder:"p. ej., 1.2"},{name:"biliUnit",label:"Unidad de bilirrubina",type:"select",options:[{value:"mgdl",label:"mg/dL"},{value:"umol",label:"µmol/L"}],placeholder:"Seleccionar"},{name:"albumin",label:"Albúmina",type:"number",unit:"g/dL",placeholder:"p. ej., 3.8"},{name:"inr",label:"INR",type:"number",placeholder:"p. ej., 1.2"},{name:"ascites",label:"Ascitis",type:"select",options:[{value:"none",label:"Ausente"},{value:"mild",label:"Leve o controlada"},{value:"moderate",label:"Moderada"},{value:"severe",label:"Severa"}]},{name:"enceph",label:"Encefalopatía",type:"select",options:[{value:"none",label:"Ausente"},{value:"mild",label:"Grado I–II"},{value:"moderate",label:"Grado III"},{value:"severe",label:"Grado IV"}]},{name:"creat",label:"Creatinina",type:"number",unit:"mg/dL",placeholder:"p. ej., 1.0"},{name:"sodium",label:"Sodio sérico (opcional)",type:"number",unit:"mmol/L",placeholder:"p. ej., 135"},{name:"ast",label:"AST",type:"number",unit:"UI/L",placeholder:"p. ej., 35"},{name:"alt",label:"ALT",type:"number",unit:"UI/L",placeholder:"p. ej., 40"},{name:"astULN",label:"LSN AST",type:"number",unit:"UI/L",placeholder:"p. ej., 40"},{name:"platelets",label:"Plaquetas",type:"number",unit:"10^9/L",placeholder:"p. ej., 250"},{name:"age",label:"Edad",type:"number",unit:"años",placeholder:"p. ej., 50"}],formulas:[{id:"child",label:"Child‑Pugh",description:"Puntuación por categorías clínicas y laboratoriales",compute:function(e){const t=Number(e.bili),a=e.biliUnit||"mgdl",i=Number(e.albumin),l=Number(e.inr),n=String(e.ascites||"none"),o=String(e.enceph||"none"),r=((d="umol"===a?t/17.1:t)<2?1:d<=3?2:3)+((u=i)>3.5?1:u>=2.8?2:3)+function(e){return e<1.7?1:e<=2.3?2:3}(l)+("none"===(m=n)?1:"mild"===m?2:3)+function(e){return"none"===e?1:"mild"===e?2:3}(o);var m,u,d;const s=function(e){return e<=6?{cls:"A",severity:"green"}:e<=9?{cls:"B",severity:"yellow"}:{cls:"C",severity:"red"}}(r);return{value:r,interpretation:"Clase ".concat(s.cls),severity:s.severity}},fields:[{name:"bili",label:"Bilirrubina total",type:"number",unit:"mg/dL o µmol/L",placeholder:"p. ej., 1.2"},{name:"biliUnit",label:"Unidad de bilirrubina",type:"select",options:[{value:"mgdl",label:"mg/dL"},{value:"umol",label:"µmol/L"}],placeholder:"Seleccionar"},{name:"albumin",label:"Albúmina",type:"number",unit:"g/dL",placeholder:"p. ej., 3.8"},{name:"inr",label:"INR",type:"number",placeholder:"p. ej., 1.2"},{name:"ascites",label:"Ascitis",type:"select",options:[{value:"none",label:"Ausente"},{value:"mild",label:"Leve o controlada"},{value:"moderate",label:"Moderada"},{value:"severe",label:"Severa"}]},{name:"enceph",label:"Encefalopatía",type:"select",options:[{value:"none",label:"Ausente"},{value:"mild",label:"Grado I–II"},{value:"moderate",label:"Grado III"},{value:"severe",label:"Grado IV"}]}],scoring:{title:"Child‑Pugh",rows:[{label:"Bilirrubina (mg/dL)",options:[{label:"< 2",points:1},{label:"2–3",points:2},{label:"> 3",points:3}]},{label:"Albúmina (g/dL)",options:[{label:"> 3.5",points:1},{label:"2.8–3.5",points:2},{label:"< 2.8",points:3}]},{label:"INR",options:[{label:"< 1.7",points:1},{label:"1.7–2.3",points:2},{label:"> 2.3",points:3}]},{label:"Ascitis",options:[{label:"Ausente",points:1},{label:"Leve/Controlada",points:2},{label:"Moderada/Severa",points:3}]},{label:"Encefalopatía",options:[{label:"Ausente",points:1},{label:"Grado I–II",points:2},{label:"Grado III–IV",points:3}]}]}},{id:"meld",label:"MELD / MELD‑Na",description:"Modelo de enfermedad hepática terminal",expressionLatex:String.raw(u||(u=j(["mathrm{MELD}=3.78ln(\text{bili})+11.2ln(\text{INR})+9.57ln(\text{creat})+6.43\\ mathrm{MELDmbox{-}Na}=mathrm{MELD}+1.59,(135-\text{Na})"],["\\mathrm{MELD}=3.78\\ln(\\text{bili})+11.2\\ln(\\text{INR})+9.57\\ln(\\text{creat})+6.43\\\\ \\mathrm{MELD\\mbox{-}Na}=\\mathrm{MELD}+1.59\\,(135-\\text{Na})"]))),compute:function(e){const t=Number(e.bili),a=Number(e.inr),i=Number(e.creat),l=null!=e.sodium&&""!==e.sodium?Number(e.sodium):void 0,n=function(e,t,a){const i=Math.max(e,1),l=Math.max(t,1),n=Math.min(Math.max(a,1),4);return 10*(.957*Math.log(n)+.378*Math.log(i)+1.12*Math.log(l))+6.43}(t,a,i),o=l?function(e,t){const a=Math.min(Math.max(t,125),137);return e+1.32*(137-a)-.033*e*(137-a)}(n,l):n,r="".concat(o.toFixed(1)," puntos · ").concat((m=o)<10?"Mortalidad 3 meses ~1–2%":m<20?"Mortalidad 3 meses ~6–20%":m<30?"Mortalidad 3 meses ~19–76%":"Mortalidad 3 meses alta (>76%)");var m;const u=o<10?"green":o<20?"yellow":"red";return{value:Number(o.toFixed(1)),interpretation:r,severity:u}},fields:[{name:"inr",label:"INR",type:"number",placeholder:"p. ej., 1.2"},{name:"bili",label:"Bilirrubina total",type:"number",unit:"mg/dL",placeholder:"p. ej., 1.2"},{name:"creat",label:"Creatinina",type:"number",unit:"mg/dL",placeholder:"p. ej., 1.0"},{name:"sodium",label:"Sodio sérico (opcional)",type:"number",unit:"mmol/L",placeholder:"p. ej., 135"}]},{id:"apri",label:"APRI",description:"Índice AST/plaquetas",expressionLatex:String.raw(d||(d=j(["mathrm{APRI}=\frac{\tfrac{\text{AST}}{\text{LSN}}\times 100}{\text{Plaquetas}}"],["\\mathrm{APRI}=\\frac{\\tfrac{\\text{AST}}{\\text{LSN}}\\times 100}{\\text{Plaquetas}}"]))),compute:function(e){const t=Number(e.ast),a=Number(e.astULN),i=Number(e.platelets);if(!t||!a||!i)return{value:NaN,interpretation:"—"};const l=t/a/i*100;return l<.5?{value:Number(l.toFixed(2)),interpretation:"Sin fibrosis significativa",severity:"green"}:l<1?{value:Number(l.toFixed(2)),interpretation:"Indeterminado / leve",severity:"yellow"}:l<2?{value:Number(l.toFixed(2)),interpretation:"Fibrosis significativa",severity:"yellow"}:{value:Number(l.toFixed(2)),interpretation:"Cirrosis probable",severity:"red"}},fields:[{name:"ast",label:"AST",type:"number",unit:"UI/L",placeholder:"p. ej., 35"},{name:"astULN",label:"LSN AST",type:"number",unit:"UI/L",placeholder:"p. ej., 40"},{name:"platelets",label:"Plaquetas",type:"number",unit:"10^9/L",placeholder:"p. ej., 250"}]},{id:"fib4",label:"FIB‑4",description:"Fibrosis (edad, AST, ALT, plaquetas)",expressionLatex:String.raw(s||(s=j(["mathrm{FIB4}=\frac{\text{Edad}\times \text{AST}}{\text{Plaquetas}\times sqrt{\text{ALT}}}"],["\\mathrm{FIB4}=\\frac{\\text{Edad}\\times \\text{AST}}{\\text{Plaquetas}\\times \\sqrt{\\text{ALT}}}"]))),compute:function(e){const t=Number(e.age),a=Number(e.ast),i=Number(e.alt),l=Number(e.platelets);if(!(t&&a&&i&&l))return{value:NaN,interpretation:"—"};const n=t*a/(l*Math.sqrt(i));return n<1.3?{value:Number(n.toFixed(2)),interpretation:"Bajo riesgo de fibrosis avanzada",severity:"green"}:n<=2.67?{value:Number(n.toFixed(2)),interpretation:"Riesgo intermedio",severity:"yellow"}:{value:Number(n.toFixed(2)),interpretation:"Alto riesgo de fibrosis avanzada",severity:"red"}},fields:[{name:"age",label:"Edad",type:"number",unit:"años",placeholder:"p. ej., 50"},{name:"ast",label:"AST",type:"number",unit:"UI/L",placeholder:"p. ej., 35"},{name:"alt",label:"ALT",type:"number",unit:"UI/L",placeholder:"p. ej., 40"},{name:"platelets",label:"Plaquetas",type:"number",unit:"10^9/L",placeholder:"p. ej., 250"}]}]},idealWeight:{title:"PI",subtitle:"Devine / Robinson / Miller",color:"#0d9488",fields:[{name:"height",label:"Talla",type:"number",unit:"cm",placeholder:"p. ej., 170",validation:{required:!0,min:100,max:250}},{name:"sex",label:"Sexo",type:"select",options:[{value:"male",label:"Masculino"},{value:"female",label:"Femenino"}],placeholder:"Seleccionar",validation:{required:!0}}],formulas:[{id:"devine",label:"Devine (1974)",expressionLatex:String.raw(c||(c=j(["mathrm{PI}_{\text{masculino}}=50+2.3,(\tfrac{\text{talla,(in)}}{1}-60)\\ mathrm{PI}_{\text{femenino}}=45.5+2.3,(\tfrac{\text{talla,(in)}}{1}-60)"],["\\mathrm{PI}_{\\text{masculino}}=50+2.3\\,(\\tfrac{\\text{talla\\,(in)}}{1}-60)\\\\ \\mathrm{PI}_{\\text{femenino}}=45.5+2.3\\,(\\tfrac{\\text{talla\\,(in)}}{1}-60)"]))),compute:function(e){const t=Number(e.height),a=((e,t)=>{const a=C(t);return"male"===e?50+2.3*(a-60):45.5+2.3*(a-60)})(e.sex||"male",t);return{value:Number(a.toFixed(2)),unit:"kg"}}},{id:"robinson",label:"Robinson (1983)",expressionLatex:String.raw(p||(p=j(["mathrm{PI}_{\text{masculino}}=52+1.9,(\text{in}-60)\\ mathrm{PI}_{\text{femenino}}=49+1.7,(\text{in}-60)"],["\\mathrm{PI}_{\\text{masculino}}=52+1.9\\,(\\text{in}-60)\\\\ \\mathrm{PI}_{\\text{femenino}}=49+1.7\\,(\\text{in}-60)"]))),compute:function(e){const t=Number(e.height),a=((e,t)=>{const a=C(t);return"male"===e?52+1.9*(a-60):49+1.7*(a-60)})(e.sex||"male",t);return{value:Number(a.toFixed(2)),unit:"kg"}}},{id:"miller",label:"Miller (1983)",expressionLatex:String.raw(b||(b=j(["mathrm{PI}_{\text{masculino}}=56.2+1.41,(\text{in}-60)\\ mathrm{PI}_{\text{femenino}}=53.1+1.36,(\text{in}-60)"],["\\mathrm{PI}_{\\text{masculino}}=56.2+1.41\\,(\\text{in}-60)\\\\ \\mathrm{PI}_{\\text{femenino}}=53.1+1.36\\,(\\text{in}-60)"]))),compute:function(e){const t=Number(e.height),a=((e,t)=>{const a=C(t);return"male"===e?56.2+1.41*(a-60):53.1+1.36*(a-60)})(e.sex||"male",t);return{value:Number(a.toFixed(2)),unit:"kg"}}}]},infusion:{title:"VI",subtitle:"Velocidad de Infusión",color:"#14b8a6",fields:[],formulas:[{id:"volTime",label:"Volumen/tiempo",description:"VI = V / T",compute:function(e){const t=Number(e.volume),a=Number(e.time);if(!Number.isFinite(t)||!Number.isFinite(a)||a<=0)return{value:NaN,interpretation:"Ingrese volumen (mL) y tiempo (h) válidos",severity:T};const i=t/a;return{value:Number(i.toFixed(2)),unit:"mL/h",interpretation:"Velocidad estándar: ".concat(i.toFixed(2)," mL/h para ").concat(t," mL en ").concat(a," h."),severity:D}},fields:[{name:"volume",label:"Volumen total",type:"number",unit:"mL",placeholder:"p. ej., 500",validation:{min:0,required:!0}},{name:"time",label:"Tiempo total",type:"number",unit:"h",placeholder:"p. ej., 4",validation:{min:0,required:!0}}]},{id:"doseConc",label:"Por dosis",description:"VI = (Dosis/Conc) / T",compute:function(e){const t=Number(e.dose),a=Number(e.conc),i=Number(e.time),l=String(e.doseUnit||"mg"),n=String(e.concUnit||"mg/mL");if(!Number.isFinite(t)||!Number.isFinite(a)||!Number.isFinite(i)||a<=0||i<=0)return{value:NaN,interpretation:"Ingrese dosis, concentración (>0) y tiempo (h)",severity:T};const o=(l.startsWith("µg")?t/1e3:t)/(n.startsWith("µg")?a/1e3:a),r=o/i,m="Para ".concat(t," ").concat(l," con ").concat(a," ").concat(n," en ").concat(i," h: volumen ").concat(o.toFixed(2)," mL → ").concat(r.toFixed(2)," mL/h.");return{value:Number(r.toFixed(2)),unit:"mL/h",interpretation:m,severity:D}},fields:[{name:"dose",label:"Dosis total",type:"number",unit:"mg | µg",placeholder:"p. ej., 200",validation:{min:0,required:!0}},{name:"doseUnit",label:"Unidad de dosis",type:"select",options:[{value:"mg",label:"mg"},{value:"µg",label:"µg"}],placeholder:"Seleccionar",validation:{required:!0}},{name:"conc",label:"Concentración",type:"number",unit:"mg/mL | µg/mL",placeholder:"p. ej., 1",validation:{min:0,required:!0}},{name:"concUnit",label:"Unidad de concentración",type:"select",options:[{value:"mg/mL",label:"mg/mL"},{value:"µg/mL",label:"µg/mL"}],placeholder:"Seleccionar",validation:{required:!0}},{name:"time",label:"Tiempo total",type:"number",unit:"h",placeholder:"p. ej., 4",validation:{min:0,required:!0}}]},{id:"drops",label:"Gotas/min",description:"Gotas/min = (V × factor)/(T × 60)",compute:function(e){const t=Number(e.volume),a=Number(e.time),i=Number(e.dropFactor)||20;if(!Number.isFinite(t)||!Number.isFinite(a)||a<=0||!Number.isFinite(i)||i<=0)return{value:NaN,interpretation:"Ingrese volumen, tiempo y factor de goteo válidos",severity:T};const l=t*i/(60*a);return{value:Number(l.toFixed(1)),unit:"gotas/min",interpretation:"Con factor ".concat(i," gotas/mL: ").concat(l.toFixed(1)," gotas/min."),severity:D}},fields:[{name:"volume",label:"Volumen total",type:"number",unit:"mL",placeholder:"p. ej., 500",validation:{min:0,required:!0}},{name:"time",label:"Tiempo total",type:"number",unit:"h",placeholder:"p. ej., 4",validation:{min:0,required:!0}},{name:"dropFactor",label:"Factor de goteo",type:"number",unit:"gotas/mL",placeholder:"p. ej., 20",validation:{min:1,required:!0}}]}]},loadingMaintenance:{title:"DC/DM",subtitle:"Dosis de Carga y Mantenimiento",color:"#6366F1",fields:[],formulas:[{id:"carga",label:"Dosis de Carga",description:"DC = (Cp × Vd × Peso) / F",compute:function(e){const t=Number(e.weight),a=Number(e.vd),i=Number(e.cp),l=Number(e.F);if(!Number.isFinite(t)||!Number.isFinite(a)||!Number.isFinite(i)||!Number.isFinite(l)||l<=0)return{value:NaN,interpretation:"Ingrese parámetros válidos (peso, Vd, Cp y F)",severity:T};const n=i*(a*t)/l,o="Con Cp objetivo ".concat(i.toFixed(2)," mg/L, Vd ").concat(a.toFixed(2)," L/kg y peso ").concat(t.toFixed(1)," kg, la dosis de carga estimada es ").concat(n.toFixed(1)," mg (F=").concat(l,").");return{value:Number(n.toFixed(1)),unit:"mg",interpretation:o,severity:D}},fields:[{name:"weight",label:"Peso",type:"number",unit:"kg",placeholder:"p. ej., 70",validation:{min:1,required:!0}},{name:"vd",label:"Vd",type:"number",unit:"L/kg",placeholder:"p. ej., 0.7",validation:{min:0,required:!0}},{name:"cp",label:"Cp objetivo",type:"number",unit:"mg/L",placeholder:"p. ej., 10",validation:{min:0,required:!0}},{name:"F",label:"Biodisponibilidad (F)",type:"number",placeholder:"0–1",validation:{min:0,max:1,required:!0}}]},{id:"mto",label:"Dosis de Mantenimiento",description:"DM = (Cp × Cl × τ) / F",compute:function(e){const t=Number(e.cp),a=Number(e.F),i=Number(e.tau),l=Number(e.cl);if(!Number.isFinite(t)||!Number.isFinite(a)||a<=0||!Number.isFinite(i)||!Number.isFinite(l))return{value:NaN,interpretation:"Ingrese Cp, Cl (L/h), F (>0) e intervalo (h)",severity:T};const n=t*l*i/a,o="Con Cp objetivo ".concat(t.toFixed(2)," mg/L, Cl ").concat(l.toFixed(2)," L/h, intervalo ").concat(i.toFixed(1)," h y F=").concat(a,", la dosis de mantenimiento es ").concat(n.toFixed(1)," mg.");return{value:Number(n.toFixed(1)),unit:"mg",interpretation:o,severity:D}},fields:[{name:"cp",label:"Cp objetivo",type:"number",unit:"mg/L",placeholder:"p. ej., 10",validation:{min:0,required:!0}},{name:"cl",label:"Cl",type:"number",unit:"L/h",placeholder:"p. ej., 4.2",validation:{min:0,required:!0}},{name:"tau",label:"Intervalo",type:"number",unit:"h",placeholder:"p. ej., 12",validation:{min:0,required:!0}},{name:"F",label:"Biodisponibilidad (F)",type:"number",placeholder:"0–1",validation:{min:0,max:1,required:!0}}]}]},mmc:{title:"MMC",subtitle:"James / Hume / % grasa",color:"#0891b2",fields:[{name:"weight",label:"Peso",type:"number",unit:"kg",placeholder:"p. ej., 70",validation:{required:!0,min:20,max:300}},{name:"height",label:"Talla",type:"number",unit:"cm",placeholder:"p. ej., 170",validation:{min:100,max:250}},{name:"bf",label:"% Grasa corporal",type:"number",unit:"%",placeholder:"p. ej., 22",validation:{min:0,max:100}},{name:"sex",label:"Sexo",type:"select",options:[{value:"male",label:"Masculino"},{value:"female",label:"Femenino"}],placeholder:"Seleccionar",validation:{required:!0}}],formulas:[{id:"james",label:"James",expressionLatex:String.raw(x||(x=j(["mathrm{MM}_{\text{masculino}}=1.1,\text{peso}-128,Big(\tfrac{\text{peso}}{\text{talla}}Big)^{2}\\ mathrm{MM}_{\text{femenino}}=1.07,\text{peso}-148,Big(\tfrac{\text{peso}}{\text{talla}}Big)^{2}"],["\\mathrm{MM}_{\\text{masculino}}=1.1\\,\\text{peso}-128\\,\\Big(\\tfrac{\\text{peso}}{\\text{talla}}\\Big)^{2}\\\\ \\mathrm{MM}_{\\text{femenino}}=1.07\\,\\text{peso}-148\\,\\Big(\\tfrac{\\text{peso}}{\\text{talla}}\\Big)^{2}"]))),compute:function(e){const t=Number(e.weight),a=Number(e.height),i=((e,t,a)=>{const i=t/a;return"male"===e?1.1*t-128*Math.pow(i,2):1.07*t-148*Math.pow(i,2)})(e.sex||"male",t,a);return{value:Number(i.toFixed(2)),unit:"kg"}},fields:[{name:"weight",label:"Peso",type:"number",unit:"kg",placeholder:"p. ej., 70",validation:{required:!0,min:20,max:300}},{name:"height",label:"Talla",type:"number",unit:"cm",placeholder:"p. ej., 170",validation:{required:!0,min:100,max:250}},{name:"sex",label:"Sexo",type:"select",options:[{value:"male",label:"Masculino"},{value:"female",label:"Femenino"}],placeholder:"Seleccionar",validation:{required:!0}}]},{id:"hume",label:"Hume",expressionLatex:String.raw(h||(h=j(["mathrm{MM}_{\text{masculino}}=0.32810,\text{peso}+0.33929,\text{talla}-29.5336\\ mathrm{MM}_{\text{femenino}}=0.29569,\text{peso}+0.41813,\text{talla}-43.2933"],["\\mathrm{MM}_{\\text{masculino}}=0.32810\\,\\text{peso}+0.33929\\,\\text{talla}-29.5336\\\\ \\mathrm{MM}_{\\text{femenino}}=0.29569\\,\\text{peso}+0.41813\\,\\text{talla}-43.2933"]))),compute:function(e){const t=Number(e.weight),a=Number(e.height),i=(l=e.sex||"male",n=t,o=a,"male"===l?.3281*n+.33929*o-29.5336:.29569*n+.41813*o-43.2933);var l,n,o;return{value:Number(i.toFixed(2)),unit:"kg"}},fields:[{name:"weight",label:"Peso",type:"number",unit:"kg",placeholder:"p. ej., 70",validation:{required:!0,min:20,max:300}},{name:"height",label:"Talla",type:"number",unit:"cm",placeholder:"p. ej., 170",validation:{required:!0,min:100,max:250}},{name:"sex",label:"Sexo",type:"select",options:[{value:"male",label:"Masculino"},{value:"female",label:"Femenino"}],placeholder:"Seleccionar",validation:{required:!0}}]},{id:"lean",label:"Lean (% grasa)",description:"Masa magra a partir de % grasa",expressionLatex:String.raw(g||(g=j(["mathrm{MM}=\text{peso}\times (1-\tfrac{%,\text{grasa}}{100})"],["\\mathrm{MM}=\\text{peso}\\times (1-\\tfrac{\\%\\,\\text{grasa}}{100})"]))),compute:function(e){const t=Number(e.weight),a=Number(e.bf);return{value:Number((t*(1-a/100)).toFixed(2)),unit:"kg"}},fields:[{name:"weight",label:"Peso",type:"number",unit:"kg",placeholder:"p. ej., 70",validation:{required:!0,min:20,max:300}},{name:"bf",label:"% Grasa corporal",type:"number",unit:"%",placeholder:"p. ej., 22",validation:{required:!0,min:0,max:100}}]}]},reconstitution:{title:"Reconstitución y dilución de antibióticos",subtitle:"Concentraciones, volúmenes y diluciones",color:"#64748B",fields:[{name:"abId",label:"Antibiótico",type:"select",options:A.map(e=>({value:e.id,label:e.name})),placeholder:"Seleccionar"},{name:"reconstMl",label:"Volumen de reconstitución",type:"number",unit:"mL",placeholder:"p. ej., 10",validation:{min:0}},{name:"dose",label:"Dosis a administrar",type:"number",placeholder:"p. ej., 1000"},{name:"doseUnit",label:"Unidad de dosis",type:"select",options:[{value:"mg",label:"mg"},{value:"g",label:"g"}],placeholder:"Seleccionar"},{name:"desiredConc",label:"Concentración final (opcional)",type:"number",unit:"mg/mL",placeholder:"p. ej., 2.0"},{name:"finalVolume",label:"Volumen final (opcional)",type:"number",unit:"mL",placeholder:"p. ej., 100"},{name:"weight",label:"Peso del paciente (opcional)",type:"number",unit:"kg",placeholder:"p. ej., 70"}],formulas:[{id:"reconst",label:"Calcular",description:"C=\tfrac{m}{V}; Volumen para dosis: V=\tfrac{\text{dosis}}{C}",expressionLatex:String.raw(v||(v=j(["C=\frac{m}{V}quad;quad V=\frac{\text{dosis}}{C}"],["C=\\frac{m}{V}\\quad;\\quad V=\\frac{\\text{dosis}}{C}"]))),compute:e=>function(e){var t,a,i,l,n;const o=String(e.abId||""),r=A.find(e=>e.id===o)||A[0],m=Number(e.reconstMl)||(null==r?void 0:r.defaultReconstitutionMl)||0,u=Number(e.desiredConc)||0,d=Number(e.dose)||0,s=String(e.doseUnit||"mg"),c=Number(e.finalVolume)||0,p=!!e.addDiluent,b=Number(e.weight)||0,x="g"===s?1e3*d:d,h=m>0?(null!=(t=null==r?void 0:r.vialStrengthMg)?t:0)/m:0,g=h>0?x/h:0;let v=0;v=p&&c>0?c:u>0?x/u:null!=(i=null==(a=null==r?void 0:r.recommendedInfusion)?void 0:a.volumeMl)?i:Math.max(50,g);const f=Math.max(0,v-g),y=v>0?x/v:0,N=[];h&&r&&h>r.cautionMaxStockConcMgPerMl&&N.push("Advertencia: concentración tras reconstitución (".concat(h.toFixed(1)," mg/mL) supera el límite recomendado (").concat(r.cautionMaxStockConcMgPerMl," mg/mL).")),v>0&&v<10&&N.push("Precaución: volumen final de administración muy bajo para infusión IV."),y>(null!=(l=null==r?void 0:r.cautionMaxStockConcMgPerMl)?l:100)&&N.push("Precaución: concentración final elevada; verifique compatibilidad y vía de administración.");const M=b>0?" (~".concat((x/b).toFixed(1)," mg/kg)"):"",L=(null==r?void 0:r.recommendedInfusion)?"Sugerencia: administrar en ~".concat(r.recommendedInfusion.volumeMl," mL en ").concat(r.recommendedInfusion.timeMin," min. ").concat(null!=(n=r.recommendedInfusion.note)?n:""):"Sugerencia: diluir en volumen adecuado y administrar según protocolo local.",S="Con una reconstitución a ".concat(m," mL, la concentración del vial es ").concat(h.toFixed(1)," mg/mL. Para una dosis de ").concat(x.toFixed(0)," mg").concat(M,", extraiga ").concat(g.toFixed(1)," mL y diluya hasta ").concat(v.toFixed(0)," mL (añadir ").concat(f.toFixed(0)," mL). Concentración final: ").concat(y.toFixed(1)," mg/mL."),j=F.jsxs("div",{className:"text-sm space-y-2",children:[F.jsxs("div",{className:"font-medium",children:["Antibiótico: ",null==r?void 0:r.name]}),F.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[F.jsxs("li",{children:["Concentración tras reconstitución: ",h>0?"".concat(h.toFixed(1)," mg/mL"):"—"]}),F.jsxs("li",{children:["Volumen a extraer para la dosis: ",g>0?"".concat(g.toFixed(1)," mL"):"—"]}),F.jsxs("li",{children:["Volumen final de administración: ",v>0?"".concat(v.toFixed(0)," mL"):"—"]}),F.jsx("li",{children:L})]}),N.length>0&&F.jsx("div",{className:"mt-2 space-y-1 text-amber-700",children:N.map((e,t)=>F.jsx("div",{children:e},t))})]}),C=N.length>0?T:D;return{value:Number(x.toFixed(0)),unit:"mg",interpretation:S,detailsHtml:j,severity:C}}(e),fields:[{name:"abId",label:"Antibiótico",type:"select",options:A.map(e=>({value:e.id,label:e.name})),placeholder:"Seleccionar"},{name:"reconstMl",label:"Volumen de reconstitución",type:"number",unit:"mL",placeholder:"p. ej., 10",validation:{min:0}},{name:"dose",label:"Dosis a administrar",type:"number",placeholder:"p. ej., 1000"},{name:"doseUnit",label:"Unidad de dosis",type:"select",options:[{value:"mg",label:"mg"},{value:"g",label:"g"}],placeholder:"Seleccionar"},{name:"desiredConc",label:"Concentración final (opcional)",type:"number",unit:"mg/mL",placeholder:"p. ej., 2.0"},{name:"finalVolume",label:"Volumen final (opcional)",type:"number",unit:"mL",placeholder:"p. ej., 100"},{name:"addDiluent",label:"Agregar diluyente adicional",type:"toggle",placeholder:"Agregar diluyente adicional"},{name:"weight",label:"Peso del paciente (opcional)",type:"number",unit:"kg",placeholder:"p. ej., 70"}]}]},renal:{title:"Función renal",subtitle:"Cockcroft–Gault / MDRD / CKD‑EPI",color:"#3B82F6",fields:[{name:"age",label:"Edad",type:"number",placeholder:"p. ej., 65",validation:{required:!0,min:18,max:120}},{name:"sex",label:"Sexo",type:"select",options:[{value:"male",label:"Masculino"},{value:"female",label:"Femenino"}],placeholder:"Seleccionar",validation:{required:!0}},{name:"weight",label:"Peso",type:"number",unit:"kg",placeholder:"p. ej., 70",validation:{required:!0,min:20,max:300}},{name:"scr",label:"Creatinina sérica",type:"number",unit:"mg/dL | µmol/L",placeholder:"p. ej., 1.0",validation:{required:!0,min:.1}},{name:"unit",label:"Unidad de creatinina",type:"select",options:[{value:"mgdl",label:"mg/dL"},{value:"umol",label:"µmol/L"}],placeholder:"Seleccionar",validation:{required:!0}}],formulas:[{id:"cg",label:"Cockcroft–Gault",description:"CrCl en mL/min",expressionLatex:String.raw(f||(f=j(["mathrm{CrCl}=\frac{(140-\text{edad})\times \text{peso}\times (0.85;\text{si femenino})}{72\times SCr_{mg/dL}}"],["\\mathrm{CrCl}=\\frac{(140-\\text{edad})\\times \\text{peso}\\times (0.85\\;\\text{si femenino})}{72\\times SCr_{mg/dL}}"]))),compute:function(e){const t=(a=Number(e.age),i=Number(e.weight),l=Number(e.scr),n=e.sex||"male",o=e.unit||"mgdl",(140-a)*i*("female"===n?.85:1)/(72*("umol"===o?w(l):l)));var a,i,l,n,o;return{value:Number(t.toFixed(2)),unit:"ml/min",interpretation:k(t),severity:P(t)}},fields:[{name:"age",label:"Edad",type:"number",placeholder:"p. ej., 65",validation:{required:!0,min:18,max:120}},{name:"sex",label:"Sexo",type:"select",options:[{value:"male",label:"Masculino"},{value:"female",label:"Femenino"}],placeholder:"Seleccionar",validation:{required:!0}},{name:"weight",label:"Peso",type:"number",unit:"kg",placeholder:"p. ej., 70",validation:{required:!0,min:20,max:300}},{name:"scr",label:"Creatinina sérica",type:"number",unit:"mg/dL | µmol/L",placeholder:"p. ej., 1.0",validation:{required:!0,min:.1}},{name:"unit",label:"Unidad de creatinina",type:"select",options:[{value:"mgdl",label:"mg/dL"},{value:"umol",label:"µmol/L"}],placeholder:"Seleccionar",validation:{required:!0}}]},{id:"mdrd",label:"MDRD (4v)",description:"TFG en mL/min/1.73m²",expressionLatex:String.raw(y||(y=j(["mathrm{TFG}=175\times (SCr)^{-1.154}\times (\text{edad})^{-0.203}\times (0.742^{[\text{femenino}]})\times (1.212^{[\text{afro}]})"],["\\mathrm{TFG}=175\\times (SCr)^{-1.154}\\times (\\text{edad})^{-0.203}\\times (0.742^{[\\text{femenino}]})\\times (1.212^{[\\text{afro}]})"]))),compute:function(e){const t=Number(e.age),a=Number(e.scr),i=e.sex||"male",l=e.unit||"mgdl",n=function(e,t,a,i,l){const n="umol"===l?w(t):t;let o=175*Math.pow(n,-1.154)*Math.pow(e,-.203);return"female"===a&&(o*=.742),i&&(o*=1.212),o}(t,a,i,!!e.black,l);return{value:Number(n.toFixed(2)),unit:"ml/min/1.73m²",interpretation:k(n),severity:P(n)}},fields:[{name:"age",label:"Edad",type:"number",placeholder:"p. ej., 65",validation:{required:!0,min:18,max:120}},{name:"sex",label:"Sexo",type:"select",options:[{value:"male",label:"Masculino"},{value:"female",label:"Femenino"}],placeholder:"Seleccionar",validation:{required:!0}},{name:"scr",label:"Creatinina sérica",type:"number",unit:"mg/dL | µmol/L",placeholder:"p. ej., 1.0",validation:{required:!0,min:.1}},{name:"unit",label:"Unidad de creatinina",type:"select",options:[{value:"mgdl",label:"mg/dL"},{value:"umol",label:"µmol/L"}],placeholder:"Seleccionar",validation:{required:!0}},{name:"black",label:"¿Afrodescendiente?",type:"toggle",placeholder:"¿Afrodescendiente?"},{name:"weight",label:"Peso",type:"number",unit:"kg",placeholder:"p. ej., 70",validation:{required:!0,min:20,max:300}}]},{id:"ckd2009",label:"CKD‑EPI 2009",expressionLatex:String.raw(N||(N=j(["mathrm{TFG}=141\times minleft(\tfrac{SCr}{kappa},1\right)^{alpha}\times maxleft(\tfrac{SCr}{kappa},1\right)^{-1.209}\times 0.993^{\text{edad}}\times 1.018^{[\text{femenino}]}\times 1.159^{[\text{afro}]}"],["\\mathrm{TFG}=141\\times \\min\\left(\\tfrac{SCr}{\\kappa},1\\right)^{\\alpha}\\times \\max\\left(\\tfrac{SCr}{\\kappa},1\\right)^{-1.209}\\times 0.993^{\\text{edad}}\\times 1.018^{[\\text{femenino}]}\\times 1.159^{[\\text{afro}]}"]))),compute:function(e){const t=Number(e.age),a=Number(e.scr),i=e.sex||"male",l=e.unit||"mgdl",n=function(e,t,a,i,l){const n="umol"===l?w(t):t,o="female"===a?.7:.9,r="female"===a?-.329:-.411,m=Math.min(n/o,1),u=Math.max(n/o,1);let d=141*Math.pow(m,r)*Math.pow(u,-1.209)*Math.pow(.993,e);return"female"===a&&(d*=1.018),i&&(d*=1.159),d}(t,a,i,!!e.black,l);return{value:Number(n.toFixed(2)),unit:"ml/min/1.73m²",interpretation:k(n),severity:P(n)}},fields:[{name:"age",label:"Edad",type:"number",placeholder:"p. ej., 65",validation:{required:!0,min:18,max:120}},{name:"sex",label:"Sexo",type:"select",options:[{value:"male",label:"Masculino"},{value:"female",label:"Femenino"}],placeholder:"Seleccionar",validation:{required:!0}},{name:"scr",label:"Creatinina sérica",type:"number",unit:"mg/dL | µmol/L",placeholder:"p. ej., 1.0",validation:{required:!0,min:.1}},{name:"unit",label:"Unidad de creatinina",type:"select",options:[{value:"mgdl",label:"mg/dL"},{value:"umol",label:"µmol/L"}],placeholder:"Seleccionar",validation:{required:!0}},{name:"black",label:"¿Afrodescendiente?",type:"toggle",placeholder:"¿Afrodescendiente?"},{name:"weight",label:"Peso",type:"number",unit:"kg",placeholder:"p. ej., 70",validation:{required:!0,min:20,max:300}}]},{id:"ckd2021",label:"CKD‑EPI 2021",expressionLatex:String.raw(M||(M=j(["mathrm{TFG}=142\times minleft(\tfrac{SCr}{kappa},1\right)^{alpha}\times maxleft(\tfrac{SCr}{kappa},1\right)^{-1.200}\times 0.9938^{\text{edad}}\times 1.012^{[\text{femenino}]}"],["\\mathrm{TFG}=142\\times \\min\\left(\\tfrac{SCr}{\\kappa},1\\right)^{\\alpha}\\times \\max\\left(\\tfrac{SCr}{\\kappa},1\\right)^{-1.200}\\times 0.9938^{\\text{edad}}\\times 1.012^{[\\text{femenino}]}"]))),compute:function(e){const t=function(e,t,a,i){const l="umol"===i?w(t):t,n="female"===a?.7:.9,o="female"===a?-.241:-.302,r=Math.min(l/n,1),m=Math.max(l/n,1);let u=142*Math.pow(r,o)*Math.pow(m,-1.2)*Math.pow(.9938,e);return"female"===a&&(u*=1.012),u}(Number(e.age),Number(e.scr),e.sex||"male",e.unit||"mgdl");return{value:Number(t.toFixed(2)),unit:"ml/min/1.73m²",interpretation:k(t),severity:P(t)}},fields:[{name:"age",label:"Edad",type:"number",placeholder:"p. ej., 65",validation:{required:!0,min:18,max:120}},{name:"sex",label:"Sexo",type:"select",options:[{value:"male",label:"Masculino"},{value:"female",label:"Femenino"}],placeholder:"Seleccionar",validation:{required:!0}},{name:"scr",label:"Creatinina sérica",type:"number",unit:"mg/dL | µmol/L",placeholder:"p. ej., 1.0",validation:{required:!0,min:.1}},{name:"unit",label:"Unidad de creatinina",type:"select",options:[{value:"mgdl",label:"mg/dL"},{value:"umol",label:"µmol/L"}],placeholder:"Seleccionar",validation:{required:!0}},{name:"weight",label:"Peso",type:"number",unit:"kg",placeholder:"p. ej., 70",validation:{required:!0,min:20,max:300}}]}]}};export{B as C};
