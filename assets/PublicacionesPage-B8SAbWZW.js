import{j as e,ak as s,at as t,aA as a,r as i,al as r}from"./vendor-WH7e70IT.js";import{a as l}from"./publicaciones-C930amTq.js";import{u as n,S as o,a as c}from"./index-CuoLVvFp.js";import{S as d,R as m}from"./ResearchSubNav-B1S03st_.js";import{S as x}from"./SmartToolbar-CVs8FuPK.js";import"./radix-CttiZxwU.js";import"./carousel-CHkIgb8Q.js";import"./motion-CyFJozco.js";const p=({titulo:i,autores:r,fecha:l,tipo:n,institucion:o,enlace:c,doi:d})=>{const m=(e=>{if(!e)return;const s=e.substring(0,4),t=Number(s);return Number.isNaN(t)?void 0:t})(l),x=(n||"").toLowerCase(),p=x.includes("libro")||x.includes("capitulo"),u=p?"text-violet-600":"text-sky-600",h=p?s:t,g=d?d.startsWith("http")?d:`https://doi.org/${d}`:c;return e.jsx("article",{className:"w-full px-2 sm:px-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4 py-4 border-b border-gray-200 hover:bg-gray-50 rounded-md transition-colors",children:[e.jsxs("div",{className:"flex items-center sm:items-start gap-3 min-w-0",children:[e.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 min-w-[24px] shrink-0",children:e.jsx(h,{className:`w-6 h-6 ${u}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 leading-snug line-clamp-2",children:i}),(r||o)&&e.jsxs("div",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:[r&&e.jsx("span",{className:"truncate inline-block max-w-full align-top",children:r}),r&&o&&e.jsx("span",{className:"px-2",children:"•"}),o&&e.jsx("em",{className:"text-gray-400 not-italic italic",children:o})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:ml-auto pt-1 sm:pt-0",children:[m&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full bg-gray-100 text-gray-700 text-xs font-semibold",children:m}),g&&e.jsxs("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2.5 py-1 border border-gray-300 text-gray-700 rounded-md text-xs hover:bg-gray-100 transition-colors",children:[e.jsx(a,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Ver"})]})]})]})})},u=()=>{n();const[s,t]=i.useState(""),[a,u]=i.useState(""),[h,g]=i.useState(""),[j,b]=i.useState(1),f=l.length>0,y=i.useMemo(()=>[...new Set(l.map(e=>e.anio))].sort((e,s)=>s-e),[]),N=i.useMemo(()=>[...new Set(l.map(e=>e.tipo))].sort(),[]),v=i.useMemo(()=>l.filter(e=>{const t=""===s.trim()||[e.titulo,e.autores,e.revista,e.editorial,e.descripcion].filter(Boolean).join(" ").toLowerCase().includes(s.toLowerCase()),i=""===a||e.anio===Number(a),r=""===h||e.tipo===h;return t&&i&&r}),[s,a,h]),w=10*j,S=w-10,C=v.slice(S,w),k=Math.max(1,Math.ceil(v.length/10));return r.useEffect(()=>{b(1)},[s,a,h]),e.jsxs("div",{className:"w-full bg-background",children:[e.jsx(o,{title:"Grupo FyT | Publicaciones Científicas y Académicas",description:"Publicaciones científicas del Grupo de Investigación en Farmacología y Terapéutica en revistas indexadas, libros y espacios editoriales académicos.",author:"Grupo FyT",robots:"index, follow",canonical:"https://fyt-research.org/investigacion/publicaciones"}),e.jsx(d,{title:"Publicaciones Científicas y Académicas",subtitle:"Producción intelectual del Grupo FyT en revistas indexadas, libros y espacios editoriales científicos."}),e.jsx(m,{}),e.jsx(x,{searchQuery:s,onSearchChange:t,onReset:()=>{t(""),u(""),g("")},availableYears:y,selectedYear:a,onYearChange:u,availableTypes:N,selectedType:h,onTypeChange:g,resultCount:v.length,totalCount:l.length,isLoading:!1}),e.jsx("section",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12 py-8 md:py-12 min-h-[800px]",children:f?e.jsx(e.Fragment,{children:v.length>0?e.jsxs(e.Fragment,{children:[e.jsx(c,{children:e.jsx("div",{className:"flex flex-col gap-4 min-h-[600px]",children:C.map((s,t)=>{const a=`${s.anio}-${String(s.mes||1).padStart(2,"0")}-01`;return e.jsx(p,{titulo:s.titulo,autores:s.autores,fecha:a,tipo:s.tipo,institucion:s.revista||s.editorial,enlace:s.enlace,descripcion:s.descripcion,doi:s.doi,tags:s.tags},s.id||`${s.doi||s.titulo}-${t}`)})})}),e.jsxs("div",{className:"mt-8 flex items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>b(e=>Math.max(1,e-1)),disabled:1===j,className:"px-4 py-2 border border-slate-300 rounded-md text-slate-700 disabled:opacity-50 hover:bg-slate-100 transition-colors",children:"Anterior"}),e.jsxs("span",{className:"text-sm text-slate-600",children:["Página ",j," de ",k]}),e.jsx("button",{onClick:()=>b(e=>Math.min(k,e+1)),disabled:j===k,className:"px-4 py-2 border border-slate-300 rounded-md text-slate-700 disabled:opacity-50 hover:bg-slate-100 transition-colors",children:"Siguiente"})]})]}):e.jsx(c,{children:e.jsxs("div",{className:"py-16 flex flex-col items-center justify-center border border-dashed border-slate-300 rounded-lg",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 h-10 text-slate-400 mb-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M6 20v-2a4 4 0 0 1 4-4h.5"}),e.jsx("path",{d:"M2 12h6"}),e.jsx("path",{d:"M4 10v4"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"m16 11 2 2 4-4"})]}),e.jsx("p",{className:"text-slate-600",children:"No hay publicaciones registradas en esta categoría aún."})]})})}):null})]})};export{u as default};
