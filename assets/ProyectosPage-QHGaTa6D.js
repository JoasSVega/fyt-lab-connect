import{j as e,r as t,eh as s,ef as a}from"./vendor-CzSKFDTp.js";import{p as i}from"./proyectos-C848vuf1.js";import{u as r,S as o,a as n}from"./index-MNemMCnQ.js";import{S as l,R as c}from"./ResearchSubNav-Diy39Hy_.js";import{S as d}from"./SmartToolbar-CDFJxjqi.js";import{P as m}from"./PlaceholderSection-lfNtfaPm.js";import"./radix-ByoYm48K.js";import"./carousel-CHkIgb8Q.js";import"./motion-BLc1aV2U.js";const p=({titulo:t,fecha:s,tipo:a,institucion:i,tags:r,descripcion:o})=>{const n=(e=>{if(!e)return;const t=e.substring(0,4),s=Number(t);return Number.isNaN(s)?void 0:s})(s),l=a||"Proyecto",c=l.toLowerCase().includes("en curso")||l.toLowerCase().includes("activo"),d=l.toLowerCase().includes("finalizado")||l.toLowerCase().includes("concluido");return e.jsxs("article",{className:"bg-white border border-gray-200 rounded-xl p-4 md:p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ring-1 "+(c?"bg-emerald-50 text-emerald-700 ring-emerald-600/20":d?"bg-gray-100 text-gray-600 ring-gray-500/20":"bg-indigo-50 text-indigo-700 ring-indigo-600/20"),children:l}),n&&e.jsx("span",{className:"px-2.5 py-1 rounded-full bg-gray-100 text-gray-700 text-xs font-semibold",children:n})]}),e.jsx("h3",{className:"text-lg font-bold text-indigo-900 leading-snug mb-2",children:t}),o&&e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed line-clamp-3",children:o}),e.jsx("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:Array.isArray(r)&&r.filter(Boolean).map(t=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full bg-gray-100 text-gray-700 text-xs",children:t},t))}),i&&e.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Institución: ",e.jsx("span",{className:"font-medium text-gray-700",children:i})]})]})},u=()=>{r();const[u,g]=t.useState(""),[x,h]=t.useState(""),[y,j]=t.useState(""),[b,f]=t.useState(""),[v,N]=t.useState(1),w=t.useMemo(()=>[...new Set(i.map(e=>e.anio))].sort((e,t)=>t-e),[]),S=t.useMemo(()=>[...new Set(i.map(e=>e.tipo))],[]),C=t.useMemo(()=>[...new Set(i.map(e=>e.estado))],[]),T=t.useMemo(()=>i.filter(e=>{const t=""===u.trim()||[e.titulo,e.descripcion,e.institucion].filter(Boolean).join(" ").toLowerCase().includes(u.toLowerCase()),s=""===x||e.anio===Number(x),a=""===y||e.tipo===y,i=""===b||e.estado===b;return t&&s&&a&&i}),[u,x,y,b]),F=i.length>0,M=10*v,P=M-10,G=T.slice(P,M),L=Math.max(1,Math.ceil(T.length/10));return s.useEffect(()=>{N(1)},[u,x,y,b]),e.jsxs("div",{className:"w-full bg-background",children:[e.jsx(o,{title:"Proyectos de Investigación FyT",description:"Proyectos de investigación del Grupo FyT en Farmacología, Terapéutica, Farmacia Asistencial y Modelización Molecular.",author:"Grupo FyT",robots:"index, follow",canonical:"https://fyt-research.org/investigacion/proyectos",openGraph:{title:"Grupo FyT | Proyectos de Investigación",description:"Proyectos del Grupo FyT",type:"website",url:"https://fyt-research.org/investigacion/proyectos",siteName:"Grupo FyT",locale:"es_ES"},twitter:{card:"summary_large_image",site:"@fytlab"}}),e.jsx(l,{title:"Proyectos de Investigación",subtitle:"Evidencia científica generada por el Grupo FyT a través de iniciativas en farmacología, terapéutica, farmacia asistencial y modelización molecular.",icon:a}),e.jsx(c,{}),e.jsx(d,{searchQuery:u,onSearchChange:g,onReset:()=>{g(""),h(""),j(""),f("")},availableYears:w,selectedYear:x,onYearChange:h,availableTypes:S,selectedType:y,onTypeChange:j,availableCategories:C,selectedCategory:b,onCategoryChange:f,resultCount:T.length,totalCount:i.length,isLoading:!1}),e.jsx("section",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12 py-8 md:py-12 min-h-[900px]",children:F?e.jsxs(e.Fragment,{children:[e.jsxs(e.Fragment,{children:[e.jsx(n,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 min-h-[700px]",children:G.map((t,s)=>{const a=`${t.anio}-${String(t.mes||1).padStart(2,"0")}-01`;return e.jsx(p,{titulo:t.titulo,fecha:a,tipo:t.estado,institucion:t.institucion,descripcion:t.descripcion,tags:t.tags||t.lineas,enlace:t.enlace},t.id)})})}),e.jsxs("div",{className:"mt-8 flex items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>N(e=>Math.max(1,e-1)),disabled:1===v,className:"px-4 py-2 border border-slate-300 rounded-md text-slate-700 disabled:opacity-50 hover:bg-slate-100 transition-colors",children:"Anterior"}),e.jsxs("span",{className:"text-sm text-slate-600",children:["Página ",v," de ",L]}),e.jsx("button",{onClick:()=>N(e=>Math.min(L,e+1)),disabled:v===L,className:"px-4 py-2 border border-slate-300 rounded-md text-slate-700 disabled:opacity-50 hover:bg-slate-100 transition-colors",children:"Siguiente"})]})]}),0===T.length&&e.jsx(n,{children:e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-muted-foreground",children:"No se encontraron proyectos con los filtros seleccionados."})})})]}):e.jsx(n,{children:e.jsx(m,{message:"Aquí se cargará el listado de proyectos de investigación del Grupo FyT."})})})]})};export{u as default};
